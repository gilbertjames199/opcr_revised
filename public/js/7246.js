"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7246],{5525:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".row-centered{text-align:center}.col-centered{display:inline-block;float:none;margin-right:-4px;text-align:left}.pos{position:top;top:240px}",""]);const r=o},8776:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const r=o},8098:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".custom-modal[data-v-165078a6]{max-width:80%!important;width:80%!important}.modal[data-v-165078a6]{display:block}",""]);const r=o},6900:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".modal[data-v-8ec2bb50]{display:block}",""]);const r=o},7246:(e,t,n)=>{n.r(t),n.d(t,{default:()=>dt});var l=n(821),o=(0,l.createElementVNode)("title",null,"OPCR",-1),r={class:"row gap-10 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},i=(0,l.createElementVNode)("h3",null,"OFFICE PERFORMANCE COMMITMENT AND RATING FORM ",-1),s={class:"peers"},c={class:"peer mR-10"},d=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),u={class:"masonry-sizer col-md-6"},p={class:"col-12"},m={class:"bgc-white p-20 bd"},f={class:"table-responsive"},h={class:"table table-hover table-bordered border-dark"},g=(0,l.createElementVNode)("thead",{class:"text-center"},[(0,l.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,l.createElementVNode)("th",{rowspan:"2"},"Major Final Output"),(0,l.createElementVNode)("th",{rowspan:"2"},"Success Indicators (Targets + Measures)"),(0,l.createElementVNode)("th",{rowspan:"2"},"Alloted Budget"),(0,l.createElementVNode)("th",{rowspan:"2"},"Accountable Division"),(0,l.createElementVNode)("th",{rowspan:"2"},"Actual Accomplishments"),(0,l.createElementVNode)("th",{colspan:"4"},"Rating"),(0,l.createElementVNode)("th",{rowspan:"2"},"Remarks"),(0,l.createElementVNode)("th",{rowspan:"2"},"MOV")]),(0,l.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,l.createElementVNode)("th",null,"Quality"),(0,l.createElementVNode)("th",null,"Efficiency"),(0,l.createElementVNode)("th",null,"Timeliness"),(0,l.createElementVNode)("th",null,"Average")])],-1),v=["rowspan"],N=["rowspan"],E=(0,l.createElementVNode)("td",null,null,-1),V=["rowspan"],b=["onUpdate:modelValue"],w=["onUpdate:modelValue"],y=["onUpdate:modelValue"],k=["onUpdate:modelValue"],_=["value"],x=["onUpdate:modelValue"],F=["onClick"],C=(0,l.createElementVNode)("td",{colspan:"6"},null,-1),M=(0,l.createElementVNode)("td",{colspan:"3"},"TOTAL RATING",-1),S=(0,l.createElementVNode)("td",null,null,-1),B=(0,l.createElementVNode)("td",{colspan:"6"},null,-1),A=(0,l.createElementVNode)("td",{colspan:"3"},"FINAL AVERAGE RATING",-1),I=(0,l.createElementVNode)("td",null,null,-1),T={class:"table-responsive"},D={class:"table table-hover table-bordered border-dark"},R=(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",null,"Assessed by PMT Secretariat:"),(0,l.createElementVNode)("td",null,"Reviewed by:")],-1),O=(0,l.createElementVNode)("td",{class:"text-center"},[(0,l.createElementVNode)("br"),(0,l.createElementVNode)("br"),(0,l.createElementVNode)("strong",null,"ALICIA M. GRACIADAS")],-1),U={class:"text-center font-weight-bold"},P=(0,l.createElementVNode)("br",null,null,-1),L=(0,l.createElementVNode)("br",null,null,-1),Z={key:0},z=[(0,l.createElementVNode)("strong",null,"LEWIS JAKE G. CAIMAN",-1)],j={key:1},q=[(0,l.createElementVNode)("strong",null,"IVAN KLEB N. ULGASAN",-1)],W=(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",{class:"text-center",style:{"font-size":"12px"}},"PMT Head Secretariat"),(0,l.createElementVNode)("td",{class:"text-center",style:{"font-size":"12px"}},"PMT Chairperson")],-1),G=(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",{style:{"font-size":"12px"}},"Date:"),(0,l.createElementVNode)("td",{style:{"font-size":"12px"}},"Date:")],-1),K=(0,l.createElementVNode)("span",{class:"text-danger font-weight-bold"},[(0,l.createElementVNode)("b",null,"SAVE CHANGES THEN PRINT")],-1),$={class:"row justify-content-center"},H={class:"col-md-12"},J=["disabled"],Y=["disabled"],Q=(0,l.createElementVNode)("div",{class:"row justify-content-center"},[(0,l.createElementVNode)("div",{class:"col-md-12"},[(0,l.createElementVNode)("p")])],-1),X={class:"justify-content-center"},ee=(0,l.createElementVNode)("div",{style:{"text-align":"center"}},[(0,l.createElementVNode)("h4",null,"OFFICE PERFORMANCE COMMITMENT AND RATING FORM")],-1),te={class:"masonry-item w-100"},ne={class:"bgc-white p-20 bd"},le={class:"table-responsive"},oe=["src"],re=(0,l.createElementVNode)("div",{style:{align:"center"}},null,-1),ae={class:"peers mb-12"},ie={class:"col-md-5"},se={key:0},ce={key:0,class:"text-danger mt-2"},de={key:1,class:"text-danger mt-2"},ue=["disabled"],pe=["disabled"],me={key:0},fe=(0,l.createElementVNode)("h3",null,"Selected Files (Pending Upload)",-1),he=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("th"),(0,l.createElementVNode)("th",null,"File Name"),(0,l.createElementVNode)("th",null,"File Type"),(0,l.createElementVNode)("th",null,"File Size")],-1),ge=["src"],ve={class:"col-md-7"},Ne={class:"peers"},Ee=(0,l.createElementVNode)("h5",null,"Files Uploaded",-1),Ve=["disabled"],be={name:"tabel",class:"table table-hover table-striped"},we=["checked"],ye=(0,l.createElementVNode)("th",null,null,-1),ke=(0,l.createElementVNode)("th",null,"File Name",-1),_e=(0,l.createElementVNode)("th",null,"File Size",-1),xe=(0,l.createElementVNode)("th",null,"Actions",-1),Fe=["value","onChange"],Ce=["src"],Me=["onClick"],Se=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"blue",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),(0,l.createElementVNode)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1)],Be=["href"],Ae=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"green",class:"bi bi-cloud-arrow-down-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2m2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708"})],-1)],Ie=["onClick"],Te=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"red",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"})],-1)],De=(0,l.createElementVNode)("h2",{class:"text-lg font-semibold"},"Preview SideModal",-1),Re={key:0},Oe={key:0},Ue=["src"],Pe={key:1},Le=["src"],Ze={key:2},ze=["src"],je={key:1},qe={key:0},We=["src"],Ge={key:1},Ke=["src"],$e={key:2},He=["src"];var Je=n(7757),Ye=n.n(Je),Qe=n(9038),Xe=n(4706),et=n(3132),tt=n(3922),nt=n(9289);function lt(e,t,n,l,o,r,a){try{var i=e[r](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(l,o)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(l,o){var r=e.apply(t,n);function a(e){lt(r,l,o,a,i,"next",e)}function i(e){lt(r,l,o,a,i,"throw",e)}a(void 0)}))}}const rt={props:{opcr_id:String,FFUNCCOD:String,mooe:String,ps:String,opcr_date:String,ave:String,total:String,dept_head:String,opcrs:Object,fileBaseUrl:String,rating_status:Number,disk:String,list:Object},data:function(){return{imageTypes:["jpg","jpeg","png","gif","bmp","webp"],total_ave:0,total_comp:0,displayModal:!1,displayModalMOV:!1,displaySideModal:!1,showImageModal:!1,opcr_rating_id:null,movs:[],search:"",form:(0,Qe.cI)({opcrs:[]}),file:null,files:[],file_ids:[],current_filepath:null,allSelected:!1,rating_status_dt:null,show_warnings:!1}},computed:{},components:{Pagination:et.Z,Filtering:Xe.Z,Modal:tt.Z,ModalMOV:nt.Z,SideModal:tt.Z},mounted:function(){this.rating_status_dt=this.rating_status,this.form.opcrs=this.opcrs,localStorage.getItem("reloaded")?localStorage.removeItem("reloaded"):(localStorage.setItem("reloaded","1"),location.reload()),window.addEventListener("keydown",this.handleKeydown)},beforeUnmount:function(){window.removeEventListener("keydown",this.handleKeydown)},methods:{formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},isWithinCount:function(){return this.files.length+this.movs.length<=10},isWithinLimit:function(){var e=10485760,t=this.files.reduce((function(e,t){return parseFloat(e)+parseFloat(t.size)}),0),n=this.movs.reduce((function(e,t){return parseFloat(e)+parseFloat(t.file_size)}),0),l=parseFloat(t)+parseFloat(n);return console.log("newFilesSize: "+t),console.log("existingFilesSize: "+n),console.log("totalSize: "+l),console.log("maxSize: 10485760"),l<=e},computeAverage:function(e){var t=[e.rating_q,e.rating_e,e.rating_t].filter((function(e){return e>0}));return 0===t.length?0:(t.reduce((function(e,t){return e+t}),0)/t.length).toFixed(2)},halfSem:function(e){var t=parseFloat(e)/2;return this.format_number_conv(t,2,!0)},deleteEla:function(e){1==confirm("WARNING!\nAre you sure you want to delete the Executive Legislative Agenda?"+e)&&this.$inertia.delete("/ELA/"+e)},getRowspan:function(e,t){for(var n=1,l=parseFloat(t)+1;l<this.opcrs.length&&this.opcrs[l].mfo_desc===e;l++)n=parseFloat(n)+1;return n},getRowspan2:function(e,t){for(var n=1,l=parseFloat(t)+1;l<this.opcrs.length&&this.opcrs[l].office_accountable===e;l++)n=parseFloat(n)+1;return n},getRowspanIndicator:function(e,t){for(var n=1,l=parseFloat(t)+1;l<this.opcrs.length&&this.opcrs[l].success_indicator===e;l++)n=parseFloat(n)+1;return n},getTotalAverage:function(){for(var e=0,t=0;t<this.form.opcrs.length;t++){var n=this.form.opcrs[t].rating_e,l=this.form.opcrs[t].rating_q,o=this.form.opcrs[t].rating_t,r=parseFloat(n)+parseFloat(l)+parseFloat(o),a=0;parseFloat(n)>=1&&(a+=1),parseFloat(l)>=1&&(a+=1),parseFloat(o)>=1&&(a+=1),0==a&&(a=1),e+=r/a}return this.format_number_conv(e,2,!0)},computeRowAverage:function(e){var t=[e.rating_q,e.rating_e,e.rating_t].filter((function(e){return e>0}));return 0===t.length?0:t.reduce((function(e,t){return e+t}),0)/t.length},getAverageAll:function(){var e=this,t=this.form.opcrs.map((function(t){return e.computeRowAverage(t)})).filter((function(e){return e>0}));return 0===t.length?0:(t.reduce((function(e,t){return e+t}),0)/t.length).toFixed(2)},numberInput:function(e){e<0?this.numberInput=0:e>5&&(this.numberInput=5)},disableTyping:function(e){e.metaKey||e.ctrlKey||e.preventDefault()},getAverage:function(e){parseFloat(this.opcrs[e].rating_e)>5&&(this.opcrs[e].rating_e=5),""==this.opcrs[e].rating_e&&(this.opcrs[e].rating_e=0),""==this.opcrs[e].rating_q&&(this.opcrs[e].rating_q=0),""==this.opcrs[e].rating_t&&(this.opcrs[e].rating_t=0),parseFloat(this.opcrs[e].rating_e)<0&&(this.opcrs[e].rating_e=0),parseFloat(this.opcrs[e].rating_q)>5&&(this.opcrs[e].rating_q=5),parseFloat(this.opcrs[e].rating_q)<0&&(this.opcrs[e].rating_q=0),parseFloat(this.opcrs[e].rating_t)>5&&(this.opcrs[e].rating_t=5),parseFloat(this.opcrs[e].rating_t)<0&&(this.opcrs[e].rating_t=0);var t=0;parseFloat(this.opcrs[e].rating_e)>=1&&(t+=1),parseFloat(this.opcrs[e].rating_q)>=1&&(t+=1),parseFloat(this.opcrs[e].rating_t)>=1&&(t+=1),0==t&&(t=1);var n=parseFloat(this.opcrs[e].rating_e)+parseFloat(this.opcrs[e].rating_q)+parseFloat(this.opcrs[e].rating_t);return n=this.format_number_conv(n/t,2,!0)},submit:function(){if(isNaN(this.total_ave))alert("Some values are empty!");else{if(1==confirm("WARNING!\nAre you sure you want to save changes to this OPCR?")){var e=JSON.stringify(this.form.opcrs);this.$inertia.post("/opcr/form/store",{opcrs:e,FFUNCCOD:this.FFUNCCOD,opcr_id:this.opcr_id},{preserveScroll:!0,preserveState:!0,replace:!0})}}},handleKeydown:function(e){e.ctrlKey&&e.shiftKey&&"S"===e.key&&(e.preventDefault(),this.submit())},showModal:function(){this.viewlink(),this.displayModal=!0},showModalMOV:function(e){var t=this;return ot(Ye().mark((function n(){var l;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.opcr_rating_id=e,l="/movs/get/mov/"+e,n.next=4,axios.get(l).then((function(e){t.movs=e.data})).finally((function(){t.isLoading=!1}));case 4:t.displayModalMOV=!0;case 5:case"end":return n.stop()}}),n)})))()},uploadFiles:function(){var e=this;return ot(Ye().mark((function t(){var n;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.files&&e.files.length<1)){t.next=3;break}return alert("No file chosen."),t.abrupt("return");case 3:if(confirm("Are you sure you want to upload selected files?")){t.next=5;break}return t.abrupt("return");case 5:return e.show_warnings=!0,n=new FormData,e.file&&n.append("file",e.file),e.files&&e.files.length>0&&e.files.forEach((function(e){n.append("files[]",e)})),t.next=11,axios.post("/movs/save/".concat(e.opcr_rating_id,"/").concat(e.opcr_id),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log("Upload success:",t.data),e.showModalMOV(e.opcr_rating_id),e.files=[]})).finally((function(t){e.cancelFiles()})).catch((function(e){var t;console.error("Upload error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e)}));case 11:case"end":return t.stop()}}),t)})))()},cancelFiles:function(){this.files=[],this.$refs.fileInput.value=null},handleFiles:function(e){var t=Array.from(e.target.files);console.log(t),this.files=Array.from(e.target.files),console.log(this.files)},viewlink:function(){var e=this.getTotalAverage(),t=this.getAverageAll(),n="https://"+this.jasper_ip+"jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA%2CSales%7Cpa1%3DSweden&_flowId=viewReportFlow&reportUnit=%2Freports%2Fplanning_system%2Fopcr_ratings_revised_july2025%2Fopcr_ratings_july2025&standAlone=true&ParentFolderUri=%2Freports%2Fplanning_system%2Fopcr_ratings_revised_july2025&standAlone=true&decorate=no&output=pdf"+("&opcr_id="+this.opcr_id+"&FFUNCCOD="+this.FFUNCCOD+"&total="+e+"&average="+t);return this.report_link=n,n},hideModal:function(){this.displayModal=!1},hideModalMOV:function(){this.displayModalMOV=!1,this.opcr_id=null},isPA:function(e,t){if(!e||!t)return!1;var n=parseInt(e.match(/\d{4}/)[0]),l=e.includes("JANUARY");return"PA 1"===t?n<2025||2025===n&&l:"PA 2"===t&&(n>2025||2025===n&&!l)},toggleFileSelection:function(e,t){t.target.checked?this.file_ids.includes(e)||this.file_ids.push(e):this.file_ids=this.file_ids.filter((function(t){return t!==e}))},deleteFile:function(e){var t=this;return ot(Ye().mark((function n(){var l;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=[],!confirm("Are you sure you want to delete this file?")){n.next=5;break}return l.push(e),n.next=5,axios.delete("/movs/delete-multiple/many",{data:{file_ids:l}}).then((function(e){console.log("Files deleted successfully",e.data),t.showModalMOV(t.opcr_rating_id)})).catch((function(e){var t;console.error("Failed to delete files",(null===(t=e.response)||void 0===t?void 0:t.data)||e)}));case 5:case"end":return n.stop()}}),n)})))()},deleteFiles:function(){var e=this;return ot(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.file_ids.length){t.next=3;break}return alert("No files selected for deletion"),t.abrupt("return");case 3:if(confirm("Are you sure you want to delete selected files?")){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,axios.delete("/movs/delete-multiple/many",{data:{file_ids:e.file_ids}}).then((function(t){console.log("Files deleted successfully",t.data),e.showModalMOV(e.opcr_rating_id)})).finally((function(t){e.file_ids=[],e.allSelected=!1})).catch((function(e){var t;console.error("Failed to delete files",(null===(t=e.response)||void 0===t?void 0:t.data)||e)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),console.error(t.t0),alert("Failed to delete files");case 14:case"end":return t.stop()}}),t,null,[[5,10]])})))()},previewFile:function(e){var t=["jpg","jpeg","png","gif","bmp","webp"],n=["mp4","avi","mov","mkv","flv","wmv","mp3"];if(this.current_filepath=e.filepath,"public"===this.disk){var l,o;if(this.view_link=window.location.origin+"/storage/"+e.filepath,t.includes(null===(l=e.file_type)||void 0===l?void 0:l.toLowerCase())||n.includes(null===(o=e.file_type)||void 0===o?void 0:o.toLowerCase()))return void window.open(this.view_link,"_blank");this.isPreviewable(e.file_type)?(this.displaySideModal=!0,this.file_extension=e.file_type):alert("This file type cannot be previewed.")}else{var r,a;if(t.includes(null===(r=e.file_type)||void 0===r?void 0:r.toLowerCase())||n.includes(null===(a=e.file_type)||void 0===a?void 0:a.toLowerCase()))return void window.open("http://122.53.120.18:8067/images/".concat(e.filepath),"_blank");this.isPreviewable(e.file_type)?(this.view_link="http://122.53.120.18:8067/images/"+e.filepath,window.open(this.view_link,"_blank"),this.file_extension=e.file_type):alert("This file type cannot be previewed.")}},toggleSelectAll:function(e){e.target.checked?this.file_ids=this.movs.map((function(e){return e.id})):this.file_ids=[]},getFileIcon:function(e){if(null==e||!e.file_type)return"/images/icons/file.png";var t=e.file_type.toLowerCase();return["xls","xlsx","xlsm","xlsb","xlt","xltx","xltm"].includes(t)?"/images/icons/excel.png":"pdf"===t?"/images/icons/pdf.png":["doc","docx","dot","dotx","dotm"].includes(t)?"/images/icons/word.png":["ppt","pptx","pptm","pot","potx","potm"].includes(t)?"/images/icons/ppt.png":["mp4","avi","mov","mkv","flv","wmv","mp3"].includes(t)?"/images/icons/video.png":["jpg","jpeg","png","gif","bmp","webp"].includes(t)?"public"===this.disk?window.location.origin+"/storage/"+e.filepath:"/images/icons/images.png":"/images/icons/file.png"},openImageModal:function(){alert("open image modal"),this.showImageModal=!0},closeImageModal:function(){this.showImageModal=!1},submitRecallRating:function(e,t,n,l){var o=this;return ot(Ye().mark((function r(){return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(confirm(l)){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,axios.post("/opcr/form/"+o.opcr_id+"/submit",{data:{curr_stat:e,staged_for:t}}).then((function(e){})).finally((function(e){o.rating_status_dt=t,alert(n)})).catch((function(e){console.error("Failed to submit OPCR Rating Form",e)}));case 4:case"end":return r.stop()}}),r)})))()}}};var at=n(3379),it=n.n(at),st=n(5525),ct={insert:"head",singleton:!1};it()(st.Z,ct);st.Z.locals;const dt=(0,n(3744).Z)(rt,[["render",function(e,t,n,Je,Ye,Qe){var Xe=(0,l.resolveComponent)("Head"),et=(0,l.resolveComponent)("Link"),tt=(0,l.resolveComponent)("Modal"),nt=(0,l.resolveComponent)("ModalMOV"),lt=(0,l.resolveComponent)("SideModal");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createVNode)(Xe,null,{default:(0,l.withCtx)((function(){return[o]})),_:1}),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",a,[i,(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",c,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return Ye.search=e}),type:"text",class:"form-control form-control-sm",placeholder:"Search..."},null,512),[[l.vModelText,Ye.search]])]),(0,l.createVNode)(et,{href:"/opcrlist/".concat(n.FFUNCCOD)},{default:(0,l.withCtx)((function(){return[d]})),_:1},8,["href"])])]),(0,l.createElementVNode)("div",u,[(0,l.createElementVNode)("h5",null,[(0,l.createTextVNode)("PERIOD: "),(0,l.createElementVNode)("u",null,(0,l.toDisplayString)(n.opcr_date),1)]),(0,l.createElementVNode)("h5",null,[(0,l.createTextVNode)("STATUS: "),(0,l.createElementVNode)("u",null,(0,l.toDisplayString)(e.getStatus(n.list.rating_status)),1)])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("form",{onSubmit:t[1]||(t[1]=(0,l.withModifiers)((function(e){return Qe.submit()}),["prevent"]))},[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("table",h,[g,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Ye.form.opcrs,(function(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:t},[0===t||e.mfo_desc!==n.opcrs[t-1].mfo_desc?((0,l.openBlock)(),(0,l.createElementBlock)("td",{key:0,rowspan:Qe.getRowspan(e.mfo_desc,t),style:{"vertical-align":"middle"}},(0,l.toDisplayString)(e.mfo_desc),9,v)):(0,l.createCommentVNode)("",!0),0===t||e.success_indicator!==n.opcrs[t-1].success_indicator?((0,l.openBlock)(),(0,l.createElementBlock)("td",{key:1,rowspan:Qe.getRowspanIndicator(e.success_indicator,t),style:{"vertical-align":"middle"}},(0,l.toDisplayString)(e.target_success_indicator),9,N)):(0,l.createCommentVNode)("",!0),E,0===t||e.office_accountable!==n.opcrs[t-1].office_accountable?((0,l.openBlock)(),(0,l.createElementBlock)("td",{key:2,rowspan:Qe.getRowspan2(e.office_accountable,t),style:{"vertical-align":"middle"}},(0,l.toDisplayString)(e.office_accountable),9,V)):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("textarea",{"onUpdate:modelValue":function(e){return Ye.form.opcrs[t].accomplishments=e},style:{height:"inherit"}},null,8,b),[[l.vModelText,Ye.form.opcrs[t].accomplishments]])]),(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":function(e){return Ye.form.opcrs[t].rating_q=e},class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,w),[[l.vModelText,Ye.form.opcrs[t].rating_q]])]),(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":function(e){return Ye.form.opcrs[t].rating_e=e},class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,y),[[l.vModelText,Ye.form.opcrs[t].rating_e]])]),(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":function(e){return Ye.form.opcrs[t].rating_t=e},class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,k),[[l.vModelText,Ye.form.opcrs[t].rating_t]])]),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("input",{value:Qe.computeAverage(Ye.form.opcrs[t]),class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,_)]),(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("textarea",{"onUpdate:modelValue":function(e){return Ye.form.opcrs[t].remarks=e},style:{height:"inherit"}},null,8,x),[[l.vModelText,Ye.form.opcrs[t].remarks]])]),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("button",{type:"button",class:"btn btn-primary text-white",onClick:function(e){return Qe.showModalMOV(Ye.form.opcrs[t].id)}},"Upload MOVs",8,F)])])})),128)),(0,l.createElementVNode)("tr",null,[C,M,(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(Qe.getTotalAverage()),1),S]),(0,l.createElementVNode)("tr",null,[B,A,(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(Qe.getAverageAll()),1),I])])])])],32),(0,l.createElementVNode)("div",T,[(0,l.createElementVNode)("table",D,[(0,l.createElementVNode)("tbody",null,[R,(0,l.createElementVNode)("tr",null,[O,(0,l.createElementVNode)("td",U,[P,L,Qe.isPA(n.opcr_date,"PA 1")?((0,l.openBlock)(),(0,l.createElementBlock)("span",Z,z)):Qe.isPA(n.opcr_date,"PA 2")?((0,l.openBlock)(),(0,l.createElementBlock)("span",j,q)):(0,l.createCommentVNode)("",!0)])]),W,G])])]),K,(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("div",H,[(0,l.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[2]||(t[2]=function(e){return Qe.submit()}),disabled:Ye.form.processing}," Save changes ",8,J),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-success mt-3 text-white",onClick:t[3]||(t[3]=function(e){return Qe.showModal()}),disabled:Ye.form.processing}," Print ",8,Y),(0,l.createTextVNode)("  ")])]),Q])]),Ye.displayModal?((0,l.openBlock)(),(0,l.createBlock)(tt,{key:0,onCloseModalEvent:Qe.hideModal},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",X,[ee,(0,l.createElementVNode)("div",te,[(0,l.createElementVNode)("div",ne,[(0,l.createElementVNode)("div",le,[(0,l.createElementVNode)("iframe",{src:e.report_link,style:{width:"100%",height:"450px"}},null,8,oe)])])]),re])]})),_:1},8,["onCloseModalEvent"])):(0,l.createCommentVNode)("",!0),Ye.displayModalMOV?((0,l.openBlock)(),(0,l.createBlock)(nt,{key:1,onCloseModalEvent:Qe.hideModalMOV,title:"Means of Verification"},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",ae,[(0,l.createElementVNode)("div",ie,[Ye.show_warnings?((0,l.openBlock)(),(0,l.createElementBlock)("div",se,[Qe.isWithinLimit()?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",ce," ❌ Total file size must not exceed 10 MB. ")),Qe.isWithinCount()?(0,l.createCommentVNode)("",!0):((0,l.openBlock)(),(0,l.createElementBlock)("div",de," ❌ You can only upload a maximum of 2 files. "))])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("input",{type:"file",multiple:"",onChange:t[4]||(t[4]=function(){return Qe.handleFiles&&Qe.handleFiles.apply(Qe,arguments)}),ref:"fileInput",disabled:!(Qe.isWithinLimit()&&Qe.isWithinCount())},null,40,ue),(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("button",{type:"button",onClick:t[5]||(t[5]=function(){return Qe.uploadFiles&&Qe.uploadFiles.apply(Qe,arguments)}),class:"btn btn-primary text-white",disabled:!(Qe.isWithinLimit()&&Qe.isWithinCount())},"Upload",8,pe),(0,l.createElementVNode)("button",{type:"button",onClick:t[6]||(t[6]=function(){return Qe.cancelFiles&&Qe.cancelFiles.apply(Qe,arguments)}),class:"btn btn-danger text-white"},"Cancel ")]),(0,l.createElementVNode)("p",null,[Ye.files.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",me,[fe,(0,l.createElementVNode)("table",null,[he,((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Ye.files,(function(t,n){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:n},[(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("img",{src:e.getPreUploadFileIcon(t.name.split(".").pop()),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,ge)]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.name)+" ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.name.split(".").pop())+" ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(Qe.formatFileSize(t.size))+" ",1)])})),128))])])):(0,l.createCommentVNode)("",!0)])]),(0,l.createElementVNode)("div",ve,[(0,l.createElementVNode)("div",Ne,[Ee,(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{onClick:t[7]||(t[7]=function(){return Qe.deleteFiles&&Qe.deleteFiles.apply(Qe,arguments)}),class:"btn btn-danger btn-sm mL-2 text-white",disabled:!Ye.file_ids.length}," Delete Selected ",8,Ve)]),(0,l.createElementVNode)("table",be,[(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"checkbox",checked:Ye.allSelected,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Ye.allSelected=e}),onChange:t[9]||(t[9]=function(e){return Qe.toggleSelectAll(e)})},null,40,we),[[l.vModelCheckbox,Ye.allSelected]])]),ye,ke,_e,xe])]),(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Ye.movs,(function(n){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:n.id},[(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"checkbox",value:n.id,onChange:function(e){return Qe.toggleFileSelection(n.id,e)},"onUpdate:modelValue":t[10]||(t[10]=function(e){return Ye.file_ids=e})},null,40,Fe),[[l.vModelCheckbox,Ye.file_ids]])]),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("img",{src:Qe.getFileIcon(n),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,Ce)]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(n.filename),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(e.format_number(n.file_size/1024,2,!0))+" KB ",1),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("button",{onClick:function(e){return Qe.previewFile(n)},class:"p-1 rounded bg-transparent hover:bg-blue-100 border-0",title:"Preview"},Se,8,Me),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("a",{href:"/movs/download/".concat(n.id),class:"inline-flex items-center",title:"Download",target:"_blank"},Ae,8,Be),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{onClick:function(e){return Qe.deleteFile(n.id)},class:"p-1 rounded-full bg-transparent hover:bg-red-100 border-0","data-toggle":"tooltip",title:"Delete"},Te,8,Ie)])])})),128))])])])])]})),_:1},8,["onCloseModalEvent"])):(0,l.createCommentVNode)("",!0),Ye.displaySideModal?((0,l.openBlock)(),(0,l.createBlock)(lt,{key:2,onCloseModalEvent:t[13]||(t[13]=function(e){return Ye.displaySideModal=!1}),style:{"z-index":"9999"}},{default:(0,l.withCtx)((function(){return[De,"public"===n.disk?((0,l.openBlock)(),(0,l.createElementBlock)("div",Re,["pdf"===e.file_extension?((0,l.openBlock)(),(0,l.createElementBlock)("div",Oe,[(0,l.createElementVNode)("iframe",{src:e.view_link,width:"100%",height:"500px"},"\n                    ",8,Ue)])):Ye.imageTypes.includes(e.file_extension)?((0,l.openBlock)(),(0,l.createElementBlock)("div",Pe,[(0,l.createTextVNode)(" Image siya "),(0,l.createElementVNode)("img",{src:e.view_link,alt:"preview",class:"max-w-full max-h-[500px] cursor-pointer",onClick:t[11]||(t[11]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},null,8,Le)])):((0,l.openBlock)(),(0,l.createElementBlock)("div",Ze,[(0,l.createElementVNode)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(e.view_link),"&embedded=true"),width:"100%",height:"600"},"\n                    ",8,ze)]))])):((0,l.openBlock)(),(0,l.createElementBlock)("div",je,["pdf"===e.file_extension?((0,l.openBlock)(),(0,l.createElementBlock)("div",qe,[(0,l.createElementVNode)("iframe",{src:e.view_link,width:"100%",height:"500px"},"\n                    ",8,We)])):Ye.imageTypes.includes(e.file_extension.toLowerCase())?((0,l.openBlock)(),(0,l.createElementBlock)("div",Ge,[(0,l.createTextVNode)(" Image siya "),(0,l.createElementVNode)("img",{src:e.view_link,alt:"preview",class:"max-w-full max-h-[500px] cursor-pointer",onClick:t[12]||(t[12]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},null,8,Ke)])):((0,l.openBlock)(),(0,l.createElementBlock)("div",$e,[(0,l.createElementVNode)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(e.view_link),"&embedded=true"),width:"100%",height:"600"},"\n                    ",8,He)]))]))]})),_:1})):(0,l.createCommentVNode)("",!0)])],64)}]])},4706:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(821),o={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},r={class:"row",style:{width:"380px"}},a={class:"bgc-white"},i={class:"modal-header"},s=(0,l.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Filtering",-1),c={class:"modal-body"};const d={props:{title:String}};var u=n(3379),p=n.n(u),m=n(8776),f={insert:"head",singleton:!1};p()(m.Z,f);m.Z.locals;const h=(0,n(3744).Z)(d,[["render",function(e,t,n,d,u,p){return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,[s,(0,l.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,l.createElementVNode)("div",c,[(0,l.renderSlot)(e.$slots,"default")])])])])}]])},9289:(e,t,n)=>{n.d(t,{Z:()=>V});var l=n(821),o=function(e){return(0,l.pushScopeId)("data-v-165078a6"),e=e(),(0,l.popScopeId)(),e},r={class:"permissions-modal"},a={class:"modal",tabindex:"-1",role:"dialog"},i={class:"modal-dialog custom-modal"},s={class:"d-flex justify-content-center"},c={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},d={class:"modal-header",style:{"background-color":"#030014"}},u={class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},p=[o((function(){return(0,l.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)}))],m={class:"modal-body"},f=o((function(){return(0,l.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1)}));const h={props:{title:String},data:function(){return{value:null}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var g=n(3379),v=n.n(g),N=n(8098),E={insert:"head",singleton:!1};v()(N.Z,E);N.Z.locals;const V=(0,n(3744).Z)(h,[["render",function(e,t,n,o,h,g){return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("h4",u,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(n.title),1)]),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return g.closeModal&&g.closeModal.apply(g,arguments)})},p)]),(0,l.createElementVNode)("div",m,[(0,l.renderSlot)(e.$slots,"default",{},void 0,!0)]),f])])])])])}],["__scopeId","data-v-165078a6"]])},3132:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(821),o={class:"pagination"},r={class:"page-item"},a={class:"page-item"};const i={props:{prev:String,next:String}};const s=(0,n(3744).Z)(i,[["render",function(e,t,n,i,s,c){var d=(0,l.resolveComponent)("Link");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("ul",o,[(0,l.createElementVNode)("li",r,[n.prev?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,class:"page-link",href:n.prev,"preserve-scroll":""},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Previous")]})),_:1},8,["href"])):((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:1,class:(0,l.normalizeClass)(["page-link",{"text-muted":!n.prev}])},"Previous",2))]),(0,l.createElementVNode)("li",a,[n.next?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,class:"page-link",href:n.next,"preserve-scroll":""},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Next")]})),_:1},8,["href"])):((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:1,class:(0,l.normalizeClass)(["page-link",{"text-muted":!n.next}])},"Next",2))])])])}]])},3922:(e,t,n)=>{n.d(t,{Z:()=>V});var l=n(821),o=function(e){return(0,l.pushScopeId)("data-v-8ec2bb50"),e=e(),(0,l.popScopeId)(),e},r={class:"permissions-modal"},a={class:"modal",tabindex:"-1",role:"dialog"},i={class:"modal-dialog modal-xl"},s={class:"d-flex justify-content-center"},c={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},d={class:"modal-header",style:{"background-color":"#030014"}},u=o((function(){return(0,l.createElementVNode)("h4",{class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},[(0,l.createElementVNode)("b",null,"PRINT PREVIEW")],-1)})),p=[o((function(){return(0,l.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)}))],m={class:"modal-body"},f=o((function(){return(0,l.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1)}));const h={props:{},data:function(){return{value:null,options:["Batman","Robin","Joker"]}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var g=n(3379),v=n.n(g),N=n(6900),E={insert:"head",singleton:!1};v()(N.Z,E);N.Z.locals;const V=(0,n(3744).Z)(h,[["render",function(e,t,n,o,h,g){return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",d,[u,(0,l.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return g.closeModal&&g.closeModal.apply(g,arguments)})},p)]),(0,l.createElementVNode)("div",m,[(0,l.renderSlot)(e.$slots,"default",{},void 0,!0)]),f])])])])])}],["__scopeId","data-v-8ec2bb50"]])}}]);