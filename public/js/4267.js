"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4267],{4267(e,t,n){n.r(t),n.d(t,{default:()=>P});var o=n(9726);function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var l={class:"row gap-20 masonry pos-r"},s={class:"peers fxw-nw jc-sb ai-c"},c={class:"col-md-6"},i={class:"bgc-white p-20 bd"},m={class:"item border-bottom py-3"},d={class:"row justify-content-between align-items-center"},u={class:"col-auto"},p={class:"item-data"},h={class:"col-md-4"},f=["src"],g={class:"col text-end"},v=["disabled"],k={class:"item border-bottom py-3"},b={class:"row justify-content-between align-items-center"},y={class:"col-auto"},N={key:0,class:"item-data"},C={key:1,class:"item-data"},E={class:"col text-end"},w=["disabled"];var V=n(9234);const B={data:function(){return{csrfToken:document.querySelector('meta[name="csrf-token"]').content,pageTitle:"Settings",isChangePhoto:!1,isChangeName:!1,name:this.$page.props.auth.user.username,myFiles:[],form:(0,V.mN)({name:this.$page.props.auth.user.username}),processing:!1}},methods:{back:function(){window.history.back()},changeName:function(){var e=this;this.form.post("/users/change-name",{replace:!0,onFinish:function(){e.isChangeName=!e.isChangeName}})},changePhoto:function(){var e=this,t=document.querySelector("input[type='hidden']").value;this.$inertia.post("/users/change-photo",{folder:t},{replace:!0,onFinish:function(){e.isChangePhoto=!e.isChangePhoto}})}}};const S=(0,n(6262).A)(B,[["render",function(e,t,n,r,V,B){var S=(0,o.resolveComponent)("Link"),P=(0,o.resolveComponent)("FilePond");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h3",null,(0,o.toDisplayString)(V.pageTitle),1),(0,o.createVNode)(S,{href:"/",onClick:B.back},{default:(0,o.withCtx)(function(){return a(t[8]||(t[8]=[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)]))}),_:1},8,["onClick"])]),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",u,[t[9]||(t[9]=(0,o.createElementVNode)("div",{class:"item-label mb-2"},[(0,o.createElementVNode)("strong",null,"Photo")],-1)),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("div",h,[V.isChangePhoto?((0,o.openBlock)(),(0,o.createBlock)(P,{key:0,name:"avatar",id:"avatar",ref:"pond","label-idle":"Click or drop your photo here...",onRemovefile:t[0]||(t[0]=function(e){return V.processing=!1}),onProcessfilestart:t[1]||(t[1]=function(e){return V.processing=!1}),onAddfile:t[2]||(t[2]=function(e){return V.processing=!0}),maxFileSize:"1MB",allowImageTransform:"true",allowImageCrop:"true",imageCropAspectRatio:"1:1","allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",files:V.myFiles,server:{url:"/files/upload",process:{headers:{"X-CSRF-TOKEN":V.csrfToken}},revert:{url:"/delete",headers:{"X-CSRF-TOKEN":V.csrfToken,"Content-Type":"application/json"}}}},null,8,["files","server"])):((0,o.openBlock)(),(0,o.createElementBlock)("img",{key:1,class:"profile-image img-fluid",src:e.$page.props.auth.user.photo,alt:""},null,8,f))])])]),(0,o.createElementVNode)("div",g,[V.isChangePhoto?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"btn-sm btn-secondary",disabled:V.processing,onClick:t[3]||(t[3]=function(){return B.changePhoto&&B.changePhoto.apply(B,arguments)})},"Save",8,v)):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-sm btn-secondary",onClick:t[4]||(t[4]=function(e){return V.isChangePhoto=!V.isChangePhoto})},"Change"))])])]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",y,[t[10]||(t[10]=(0,o.createElementVNode)("div",{class:"item-label"},[(0,o.createElementVNode)("strong",null,"Name")],-1)),V.isChangeName?((0,o.openBlock)(),(0,o.createElementBlock)("div",N,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(e){return V.form.name=e})},null,512),[[o.vModelText,V.form.name]])])):((0,o.openBlock)(),(0,o.createElementBlock)("div",C,(0,o.toDisplayString)(e.$page.props.auth.user.username),1))]),(0,o.createElementVNode)("div",E,[V.isChangeName?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,class:"btn-sm btn-secondary",onClick:t[6]||(t[6]=function(){return B.changeName&&B.changeName.apply(B,arguments)}),disabled:V.form.processing},"Save",8,w)):((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:1,class:"btn-sm btn-secondary",onClick:t[7]||(t[7]=function(e){return V.isChangeName=!V.isChangeName})},"Change"))])])])])])])}]]),P=S}}]);