"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6459],{47:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".row-centered{text-align:center}.col-centered{display:inline-block;float:none;margin-right:-4px;text-align:left}.pos{position:top;top:240px}",""]);const r=o},8776:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const r=o},1311:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".modal[data-v-91132c26]{display:block;z-index:9999!important}.draggable-header[data-v-91132c26]{cursor:move}.draggable-dialog[data-v-91132c26]{transition:none}.resizable-content[data-v-91132c26]{min-height:300px;min-width:500px;position:relative}.resize-handle[data-v-91132c26]{background:transparent;bottom:0;cursor:se-resize;height:16px;position:absolute;right:0;width:16px}",""]);const r=o},6900:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".modal[data-v-8ec2bb50]{display:block}",""]);const r=o},6459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge});var l=n(821),o=(0,l.createElementVNode)("title",null,"Home",-1),r={class:"row gap-20 masonry pos-r"},a={class:"peers fxw-nw jc-sb ai-c"},i={class:"peers"},c={key:0},s={key:1},d={class:"peers"},u=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),p={class:"peers fxw-nw jc-sb ai-c"},m={class:"peers"},h={class:"peer mR-10"},f={class:"peer"},v=[(0,l.createElementVNode)("option",null,null,-1),(0,l.createElementVNode)("option",{value:"p"},"Project Profile",-1),(0,l.createElementVNode)("option",{value:"d"},"Project Design",-1)],g={key:0,class:"peers fxw-nw jc-sb ai-c"},b=(0,l.createElementVNode)("div",{class:"masonry-sizer col-md-6"},null,-1),V={class:"masonry-item w-100"},N=(0,l.createElementVNode)("div",{class:"row gap-20"},null,-1),E={class:"bgc-white p-20 bd"},w={class:"table-responsive"},k={class:"table table-sm table-borderless table-striped table-hover"},y=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,l.createElementVNode)("th",null,"Project Title"),(0,l.createElementVNode)("th",null,"Office"),(0,l.createElementVNode)("th",null,"Status"),(0,l.createElementVNode)("th",null,"View"),(0,l.createElementVNode)("th",null,"Edit"),(0,l.createElementVNode)("th",null,"Full Edit"),(0,l.createElementVNode)("th"),(0,l.createElementVNode)("th",null,"Forward Next Year"),(0,l.createElementVNode)("th",null,"Version"),(0,l.createElementVNode)("th",null,"Year"),(0,l.createElementVNode)("th",null,"Type"),(0,l.createElementVNode)("th",null,"Actions")])],-1),x={style:{color:"red","font-weight":"bold"}},C=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),(0,l.createElementVNode)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1),P=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1),S=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1),F=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1),M=(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,l.createElementVNode)("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1),B=["onClick","disabled"],A=["onClick"],I=["onClick"],D=["onClick"],R=["onClick"],j=["onClick","disabled"],T={class:"dropdown dropstart"},L=(0,l.createElementVNode)("button",{class:"btn btn-secondary btn-sm action-btn",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-expanded":"false"},[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-three-dots",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})])],-1),z={class:"dropdown-menu dropdown-menu-start","aria-labelledby":"dropdownMenuButton1"},W={key:0},U={key:1},Z={class:"row justify-content-center"},O={class:"col-md-12"},q={class:"row justify-content-center"},$={class:"col-md-12"},H={class:"d-flex justify-content-center"},Y=["src"],G={class:"d-flex justify-content-center"},J=["src"],X=(0,l.createElementVNode)("option",null,null,-1),K=["value"],Q=(0,l.createElementVNode)("h1",null,"Project Profile",-1),ee={class:"d-flex justify-content-center"},te=["src"],ne={class:"peers mb-12"},le={class:"table"},oe=(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("h6",null,"PROJECT TITLE: ")],-1),re=(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("h6",null,"OFFICE: ")],-1),ae={colspan:"2"},ie={class:"col-md-5"},ce={key:0},se=(0,l.createElementVNode)("h3",null,"Selected Files (Pending Upload)",-1),de=(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("th"),(0,l.createElementVNode)("th",null,"File Name"),(0,l.createElementVNode)("th",null,"File Type"),(0,l.createElementVNode)("th",null,"File Size")],-1),ue=["src"],pe={colspan:"2"},me={class:"col-md-7"},he={class:"peers"},fe=(0,l.createElementVNode)("h5",null,"Justification Letters Uploaded",-1),ve=["disabled"],ge={name:"tabel",class:"table table-hover table-striped"},be=["checked"],Ve=(0,l.createElementVNode)("th",null,null,-1),Ne=(0,l.createElementVNode)("th",null,"File Name",-1),Ee=(0,l.createElementVNode)("th",null,"File Size",-1),we=(0,l.createElementVNode)("th",null,"Status",-1),ke=(0,l.createElementVNode)("th",null,"Actions",-1),ye=(0,l.createElementVNode)("th",null,"Return No.",-1),xe=["value","onChange"],_e=["src"],Ce=["onClick"],Pe=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"blue",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),(0,l.createElementVNode)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1)],Se=["href"],Fe=[(0,l.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"green",class:"bi bi-cloud-arrow-down-fill",viewBox:"0 0 16 16"},[(0,l.createElementVNode)("path",{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2m2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708"})],-1)],Me={class:"table table-hover"},Be=(0,l.createElementVNode)("td",null,"Remarks:",-1),Ae={colspan:"2"},Ie=[(0,l.createElementVNode)("option",null,null,-1),(0,l.createElementVNode)("option",{value:"a"}," Administrative Order (New strategies/activities/ not included in approved project profile) ",-1),(0,l.createElementVNode)("option",null," Appropriation Ordinance ",-1),(0,l.createElementVNode)("option",null,"Justification",-1)];var De=n(7757),Re=n.n(De),je=n(4706),Te=n(3132),Le=n(3922),ze=n(5543),We=n(9680);function Ue(e,t,n,l,o,r,a){try{var i=e[r](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(l,o)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(l,o){var r=e.apply(t,n);function a(e){Ue(r,l,o,a,i,"next",e)}function i(e){Ue(r,l,o,a,i,"throw",e)}a(void 0)}))}}const Oe={props:{data:Object,idpaps:String,filters:Object,paps:Object,monitors:Object,source:String},data:function(){return{search:this.$props.filters.search,showAIPModal:!1,aip_printLink:"",ccet:"no",checked:!1,aip_printLink_excel:"",rev_plan_selected:[],WorkPlanModalVisible:"",cmp_link:"",SIPModalVisible:!1,paps:[],selected_sip_paps:null,type_filter:this.$props.filters.type_filter,paps_id_here:0,printProfileVIsible:!1,rev_plan_id:0,ppa_link:"",ReturnWithAmmendmentsModalVisible:!1,file:null,files:[],file_ids:[],current_filepath:null,allSelected:!1,selected_plan:[],selected_status:0,selected_label:"",docs:[],remarks:"",return_request_type:"",displaySideModal:!1,showImageModal:!1}},components:{Pagination:Te.Z,Filtering:je.Z,AIPModal:Le.Z,WorkPlanModal:ze.Z,SIPModal:ze.Z,ProjectPrintModal:ze.Z,ReturnWithAmmendmentsModal:ze.Z},watch:{search:_.debounce((function(e){this.$inertia.get("/revision/"+this.paps_id_here,{search:e,type_filter:this.type_filter,source:this.source},{preserveScroll:!0,preserveState:!0,replace:!0})}),300)},mounted:function(){this.paps.id&&(this.paps_id_here=this.paps.id),this.updateValue()},methods:{printProfileVisible:function(e){this.printProfileVIsible=!0},showCreate:function(){this.$inertia.get("/targets/create",{raao_id:this.raao_id},{preserveScroll:!0,preserveState:!0,replace:!0})},deleteStrat:function(e){1==confirm("WARNING!\nAre you sure you want to delete the strategy?"+e)&&this.$inertia.delete("/strategies/"+e+"/"+this.idpaps)},getAccomplishment:function(e){this.$inertia.get("/accomplishments",{idtarget:e},{preserveScroll:!0,preserveState:!0,replace:!0})},getPercent:function(e,t){var n=0;e.forEach((function(e){n+=parseFloat(e.accomplishment_qty)}));var l=n/t*100;return l=this.format_number(l,2,!0)},amountStatus:function(e,t){var n="",l=parseFloat(e),o=parseFloat(t);return l>o&&(n="Warning: total amount of budgetary requirement is greater than the total implementation plans amount."),l<o&&(n="Warning: total amount of implementation plans is greater than the total  amount of budgetary requirement."),n},can_submit:function(e,t){var n=parseFloat(e),l=parseFloat(t);return n>=1&&l>=1&&n===l},showAIPModalMethod:function(){var e=this.jasper_ip,t="&ccet="+this.ccet;this.aip_printLink="https://"+e+"jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA,Sales%7Cpa1%3DSweden&_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports%2FOPCR_AIP&reportUnit=%2Freports%2FOPCR_AIP%2FAIP_Print&standAlone=true&decorate=no&output=pdf"+t,this.showAIPModal=!0},hideAIPModal:function(){this.showAIPModal=!1},updateValue:function(){this.ccet=this.checked?"1":"0"},exportUsers:function(){var e="https://"+this.jasper_ip+"jasperserver/rest_v2/reports/reports/OPCR_AIP/AIP_Print.xlsx?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA,Sales%7Cpa1%3DSweden&ParentFolderUri=%2Freports%2FOPCR_AIP&reportUnit=%2Freports%2FOPCR_AIP%2FAIP_Print&standAlone=true&decorate=no"+("&ccet="+this.ccet);window.open(e,"_blank")},submitItem:function(e,t){var n={0:"Submit","-1":"Recall",1:"Review",2:"Approve","-2":"Return"}[t],l="p"===e.type?"Project Profile":"Project Design",o="Are you sure you want to ".concat(n," the ").concat(l,' entitled "').concat(e.project_title,'"?'),r=n+" "+l;confirm(o)&&We.Inertia.post("/status/revision/update/".concat(e.id,"/").concat(r,"/").concat(t),{},{preserveScroll:!0})},setLinkModal:function(e){var t=this.jasper_ip,n="&id="+e;this.cmp_link="https://"+t+"/jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA,Sales%7Cpa1%3DSweden&_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports%2Fplanning_system&reportUnit=%2Freports%2Fplanning_system%2FComprehensive_WorkPlan&standAlone=true&output=pdf"+n,this.toggleWorkPlanModal()},toggleWorkPlanModal:function(){this.WorkPlanModalVisible=!this.WorkPlanModalVisible},generateProjectDesign:function(e,t){e&&confirm("Are you sure you want to generate the Project Design for this project?")&&("p"==t?We.Inertia.post("/project/design/generate/".concat(e),{type:t},{onSuccess:function(){console.log("Project Design generated.")},onError:function(e){console.error(e)}}):"ny"==t&&We.Inertia.post("/project/next_year/".concat(e),{type:t},{onSuccess:function(){console.log("Project Design generated.")},onError:function(e){console.error(e)}}))},showSIPModal:function(){var e=this;axios.get("/get/PAPS").then((function(t){e.paps=t.data,e.SIPModalVisible=!0})).catch((function(e){console.error("Failed to load PAPS:",e)}))},filterProjects:function(){this.$inertia.get("/revision/"+this.paps_id_here,{search:this.search,type_filter:this.type_filter,source:this.source},{preserveScroll:!0,preserveState:!0,replace:!0})},openPrintProfile:function(e){this.rev_plan_id=e,this.printProfileVIsible=!0;var t=this.jasper_ip,n="&id="+e;this.ppa_link="https://"+t+"/jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA,Sales%7Cpa1%3DSweden&_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports%2Fplanning_system%2FIndividual_Output&reportUnit=%2Freports%2Fplanning_system%2FIndividual_Output%2FProject_Profile&standAlone=true&standAlone=true&output=pdf"+n},toggleReturnWithAmmendmentsModal:function(){this.ReturnWithAmmendmentsModalVisible=!0},hideReturnWithAmmendmentsModal:function(){this.ReturnWithAmmendmentsModalVisible=!1},returnWithAmmendments:function(e,t){var n=this;return Ze(Re().mark((function l(){var o,r,a,i;return Re().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return o={0:"Submit","-1":"Recall",1:"Review",2:"Approve","-2":"Return",5:"Request for Return"}[t],r="p"===e.type?"Project Profile":"Project Design",a=o+" "+r,n.selected_label=a,n.selected_plan=e,n.selected_status=t,i="/revison_plan_documents/"+e.id,l.next=10,axios.get(i).then((function(e){n.docs=e.data})).finally((function(){n.isLoading=!1}));case 10:n.toggleReturnWithAmmendmentsModal();case 11:case"end":return l.stop()}}),l)})))()},formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},isWithinCount:function(){return this.files.length+this.movs.length<=2},isWithinLimit:function(){var e=10485760,t=this.files.reduce((function(e,t){return parseFloat(e)+parseFloat(t.size)}),0),n=this.movs.reduce((function(e,t){return parseFloat(e)+parseFloat(t.file_size)}),0),l=parseFloat(t)+parseFloat(n);return console.log("newFilesSize: "+t),console.log("existingFilesSize: "+n),console.log("totalSize: "+l),console.log("maxSize: 10485760"),l<=e},uploadFiles:function(){var e=this;return Ze(Re().mark((function t(){var n;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.files&&e.files.length<1)){t.next=3;break}return alert("No file chosen."),t.abrupt("return");case 3:if(confirm("Are you sure you want to upload selected files?")){t.next=5;break}return t.abrupt("return");case 5:return e.show_warnings=!0,n=new FormData,e.file&&n.append("file",e.file),e.files&&e.files.length>0&&e.files.forEach((function(e){n.append("files[]",e)})),t.next=11,axios.post("/status/revision/update/".concat(e.selected_plan.id,"/").concat(e.selected_label,"/").concat(e.selected_status,"/upload/justification"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log("Upload success:",t.data),e.returnWithAmmendments(e.selected_plan,e.selected_status),e.files=[]})).finally((function(t){e.cancelFiles()})).catch((function(e){var t;console.error("Upload error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e)}));case 11:case"end":return t.stop()}}),t)})))()},cancelFiles:function(){this.files=[],this.$refs.fileInput.value=null},handleFiles:function(e){var t=Array.from(e.target.files),n=t.filter((function(e){var t="application/pdf"===e.type||e.name.toLowerCase().endsWith(".pdf"),n=e.size<=1048576;return t&&n}));n.length!==t.length&&alert("Only PDF files under 1 MB are allowed! Invalid files will be ignored."),this.files=n,console.log("Selected PDF files under 1 MB:",this.files),0===this.files.length&&(this.$refs.fileInput.value=null),console.log(t),this.files=Array.from(e.target.files),console.log(this.files)},getFileIcon:function(e){if(null==e||!e.file_type)return"/images/icons/file.png";var t=e.file_type.toLowerCase();return["xls","xlsx","xlsm","xlsb","xlt","xltx","xltm"].includes(t)?"/images/icons/excel.png":"pdf"===t?"/images/icons/pdf.png":["doc","docx","dot","dotx","dotm"].includes(t)?"/images/icons/word.png":["ppt","pptx","pptm","pot","potx","potm"].includes(t)?"/images/icons/ppt.png":["mp4","avi","mov","mkv","flv","wmv","mp3"].includes(t)?"/images/icons/video.png":["jpg","jpeg","png","gif","bmp","webp"].includes(t)?"public"===this.disk?window.location.origin+"/storage/"+e.filepath:"/images/icons/images.png":"/images/icons/file.png"},previewFile:function(e){var t=["jpg","jpeg","png","gif","bmp","webp"],n=["mp4","avi","mov","mkv","flv","wmv","mp3"];if(this.current_filepath=e.filepath,"public"===this.disk){var l,o;if(this.view_link=window.location.origin+"/storage/"+e.filepath,t.includes(null===(l=e.file_type)||void 0===l?void 0:l.toLowerCase())||n.includes(null===(o=e.file_type)||void 0===o?void 0:o.toLowerCase()))return void window.open(this.view_link,"_blank");this.isPreviewable(e.file_type)?(this.displaySideModal=!0,this.file_extension=e.file_type):alert("This file type cannot be previewed.")}else{var r,a;if(t.includes(null===(r=e.file_type)||void 0===r?void 0:r.toLowerCase())||n.includes(null===(a=e.file_type)||void 0===a?void 0:a.toLowerCase()))return void window.open("http://122.53.120.18:8067/images/".concat(e.filepath),"_blank");this.isPreviewable(e.file_type)?(this.view_link="http://122.53.120.18:8067/images/"+e.filepath,window.open(this.view_link,"_blank"),this.file_extension=e.file_type):alert("This file type cannot be previewed.")}},toggleSelectAll:function(e){e.target.checked?this.file_ids=this.docs.map((function(e){return e.id})):this.file_ids=[]},toggleFileSelection:function(e,t){t.target.checked?this.file_ids.includes(e)||this.file_ids.push(e):this.file_ids=this.file_ids.filter((function(t){return t!==e}))},deleteFile:function(e){return Ze(Re().mark((function t(){var n;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],!confirm("Are you sure you want to delete this file?")){t.next=5;break}return n.push(e),t.next=5,axios.delete("/revison_plan_documents/delete-multiple/many",{data:{file_ids:n}}).then((function(e){console.log("Files deleted successfully",e.data)})).catch((function(e){var t;console.error("Failed to delete files",(null===(t=e.response)||void 0===t?void 0:t.data)||e)}));case 5:case"end":return t.stop()}}),t)})))()},deleteFiles:function(){var e=this;return Ze(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.file_ids.length){t.next=3;break}return alert("No files selected for deletion"),t.abrupt("return");case 3:if(confirm("Are you sure you want to delete selected files?")){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,axios.delete("/revison_plan_documents/delete-multiple/many",{data:{file_ids:e.file_ids}}).then((function(t){console.log("Files deleted successfully",t.data),e.returnWithAmmendments(e.selected_plan,e.selected_status)})).finally((function(t){e.file_ids=[],e.allSelected=!1})).catch((function(e){var t;console.error("Failed to delete files",(null===(t=e.response)||void 0===t?void 0:t.data)||e)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),console.error(t.t0),alert("Failed to delete files");case 14:case"end":return t.stop()}}),t,null,[[5,10]])})))()},returnWithAmmendmentsActual:function(){this.docs.filter((function(e){return 0==e.return_executed}));this.remarks&&""!==this.remarks.trim()?this.return_request_type&&""!=this.return_request_type.trim()?(this.statusAction(this.selected_plan,this.selected_status),this.ReturnWithAmmendmentsModalVisible=!1):alert("You have to select a return type!"):alert("Remarks are required before returning the plan.")},statusAction:function(e,t,n){var l={0:"Submit","-1":"Recall",1:"Review",2:"Approve","-2":"Return",5:"request for the return of the"}[t],o="p"===e.type?"Project Profile":"Project Design",r="Are you sure you want to ".concat(l," the ").concat(o,' entitled "').concat(e.project_title,'"?'),a=l+" "+o;confirm(r)&&We.Inertia.post("/status/revision/update/".concat(e.id,"/").concat(a,"/").concat(t),{remarks:this.remarks,column:n,return_request_type:this.return_request_type},{preserveScroll:!0})}}};var qe=n(3379),$e=n.n(qe),He=n(47),Ye={insert:"head",singleton:!1};$e()(He.Z,Ye);He.Z.locals;const Ge=(0,n(3744).Z)(Oe,[["render",function(e,t,n,_,De,Re){var je=(0,l.resolveComponent)("Head"),Te=(0,l.resolveComponent)("Link"),Le=(0,l.resolveComponent)("Button"),ze=(0,l.resolveComponent)("pagination"),We=(0,l.resolveComponent)("AIPModal"),Ue=(0,l.resolveComponent)("WorkPlanModal"),Ze=(0,l.resolveComponent)("SIPModal"),Oe=(0,l.resolveComponent)("ProjectPrintModal"),qe=(0,l.resolveComponent)("ReturnWithAmmendmentsModal");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createVNode)(je,null,{default:(0,l.withCtx)((function(){return[o]})),_:1}),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,["sip"===n.source?((0,l.openBlock)(),(0,l.createElementBlock)("h3",c,"SIP Profile")):((0,l.openBlock)(),(0,l.createElementBlock)("h3",s,"PPA Profile "))]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(Te,{href:"/paps/direct"},{default:(0,l.withCtx)((function(){return[u]})),_:1})])]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",h,[(0,l.withDirectives)((0,l.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return De.search=e}),type:"text",class:"form-control form-control-sm",placeholder:"Search..."},null,512),[[l.vModelText,De.search]])]),(0,l.createElementVNode)("div",f,[null==n.source?((0,l.openBlock)(),(0,l.createBlock)(Te,{key:0,class:"btn btn-primary btn-sm",href:"/revision/create/".concat(n.idpaps)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Add Revision Plan")]})),_:1},8,["href"])):(0,l.createCommentVNode)("",!0),(0,l.createTextVNode)("  "),"sip"==n.source?((0,l.openBlock)(),(0,l.createBlock)(Le,{key:1,class:"btn btn-primary btn-sm text-white",onClick:Re.showSIPModal},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Add SIP Profile")]})),_:1},8,["onClick"])):((0,l.openBlock)(),(0,l.createBlock)(Te,{key:2,class:"btn btn-primary btn-sm",href:"/revision/create/0?source=direct"},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Add Revision Plan")]})),_:1})),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{class:"btn btn-primary btn-sm mL-2 text-white",onClick:t[1]||(t[1]=function(t){return e.showFilter()})},"Filter"),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{onClick:t[2]||(t[2]=function(){return Re.exportUsers&&Re.exportUsers.apply(Re,arguments)}),class:"btn btn-primary btn-sm mL-2 text-white"},"Export AIP to Excel"),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{class:"btn btn-primary btn-sm mL-2 text-white",onClick:t[3]||(t[3]=function(e){return Re.showAIPModalMethod()})},"AIP"),(0,l.createTextVNode)("  Filter by type: "),(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return De.type_filter=e}),onChange:t[5]||(t[5]=function(){return Re.filterProjects&&Re.filterProjects.apply(Re,arguments)})},v,544),[[l.vModelSelect,De.type_filter]]),(0,l.createTextVNode)("     "),(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return De.checked=e}),onChange:t[7]||(t[7]=function(){return Re.updateValue&&Re.updateValue.apply(Re,arguments)})},null,544),[[l.vModelCheckbox,De.checked]]),(0,l.createTextVNode)("  No Climate Change Expenditure (Please Click the box if your LGU does not have any climate change expenditure) ")])])]),De.paps.paps_desc?((0,l.openBlock)(),(0,l.createElementBlock)("div",g,[(0,l.createElementVNode)("h5",null,[(0,l.createTextVNode)("Program/Project: "),(0,l.createElementVNode)("u",null,(0,l.toDisplayString)(De.paps.paps_desc),1)])])):(0,l.createCommentVNode)("",!0),b,(0,l.createElementVNode)("div",V,[N,(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("div",w,[(0,l.createElementVNode)("table",k,[y,(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(n.data,(function(t){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",null,[(0,l.createElementVNode)("td",null,[(0,l.createTextVNode)((0,l.toDisplayString)(t.project_title)+" ",1),(0,l.createElementVNode)("span",x,(0,l.toDisplayString)(Re.amountStatus(t.budget_sum,t.imp_amount)),1)]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.FFUNCTION),1),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("span",{style:(0,l.normalizeStyle)({display:"inline-block",padding:"2px 8px",borderRadius:"4px",color:"white",fontWeight:"bold",backgroundColor:"-2"==t.status?"red":"-1"==t.status?"gray":"0"==t.status?"orange":"1"==t.status?"blue":"2"==t.status?"green":"7"==t.status?"red":"black"})},(0,l.toDisplayString)("-2"==t.status?"Returned":"-1"==t.status?"Saved":"0"==t.status?"Submitted":"1"==t.status?"Reviewed":"2"==t.status?"Approved":"7"==t.status?"Request for Return":"Unknown"),5)]),(0,l.createElementVNode)("td",null,[(0,l.createVNode)(Te,{class:"btn btn-primary btn-sm",href:"/revision/view/project/paps/".concat(t.id)},{default:(0,l.withCtx)((function(){return[C]})),_:2},1032,["href"])]),(0,l.createElementVNode)("td",null,[De.paps?((0,l.openBlock)(),(0,l.createBlock)(Te,{key:0,class:"btn btn-primary btn-sm",href:"/revision/edit/".concat(t.id)},{default:(0,l.withCtx)((function(){return[P]})),_:2},1032,["href"])):((0,l.openBlock)(),(0,l.createBlock)(Te,{key:1,class:"btn btn-primary btn-sm",href:"/revision/edit/".concat(t.id,"?source=direct")},{default:(0,l.withCtx)((function(){return[S]})),_:2},1032,["href"]))]),(0,l.createElementVNode)("td",null,[t.idpaps?((0,l.openBlock)(),(0,l.createBlock)(Te,{key:0,class:"btn btn-success btn-sm",href:"/revision/streamlined/create/".concat(t.idpaps,"?source=").concat(n.source,"&idrevplan=").concat(t.id)},{default:(0,l.withCtx)((function(){return[F]})),_:2},1032,["href"])):((0,l.openBlock)(),(0,l.createBlock)(Te,{key:1,class:"btn btn-success btn-sm",href:"/revision/streamlined/create/".concat(t.idpaps,"?source=").concat(n.source,"&idrevplan=").concat(t.id)},{default:(0,l.withCtx)((function(){return[M]})),_:2},1032,["href"]))]),(0,l.createElementVNode)("td",null,["-1"==t.status||"-2"==t.status?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,onClick:function(e){return Re.submitItem(t,0)},disabled:!Re.can_submit(t.budget_sum,t.imp_amount),style:(0,l.normalizeStyle)({padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:Re.can_submit(t.budget_sum,t.imp_amount)?"blue":"#9bbce0",color:"white",cursor:"pointer",fontWeight:"bold"})}," Submit ",12,B)):(0,l.createCommentVNode)("",!0),"0"==t.status?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:1,onClick:function(e){return Re.submitItem(t,-1)},style:{padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:"red",color:"white",cursor:"pointer",fontWeight:"bold"}}," Recall ",8,A)):(0,l.createCommentVNode)("",!0),1==t.status&&parseInt(t.number_of_clones)<1&&"p"===t.type?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:2,onClick:function(e){return Re.generateProjectDesign(t.id,"d")},style:{padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:"green",color:"white",cursor:"pointer",fontWeight:"bold"}}," Generate Project Design ",8,I)):(0,l.createCommentVNode)("",!0),1==t.status&&parseInt(t.number_of_clones)<1&&"sip"===n.source?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:3,onClick:function(e){return Re.generateProjectDesign(t.id,"sip")},style:{padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:"green",color:"white",cursor:"pointer",fontWeight:"bold"}}," Generate SIP Profile ",8,D)):(0,l.createCommentVNode)("",!0),["1","2"].includes(t.status)&&"-1"==t.return_request_status?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:4,onClick:function(e){return Re.returnWithAmmendments(t,5)},style:{padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:"red",color:"white",cursor:"pointer",fontWeight:"bold"}}," Request for return ",8,R)):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("td",null,[parseInt(t.number_of_clones)<1&&"p"===t.type?((0,l.openBlock)(),(0,l.createElementBlock)("button",{key:0,onClick:function(e){return Re.generateProjectDesign(t.id,"ny")},disabled:!(parseInt(t.year)+1==(new Date).getFullYear()+1&&0==t.status),style:(0,l.normalizeStyle)({padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:parseInt(t.year)+1==(new Date).getFullYear()+1&&0==t.status?"green":"#9ca3af",color:"white",cursor:parseInt(t.year)+1==(new Date).getFullYear()+1&&0==t.status?"pointer":"not-allowed",fontWeight:"bold"})}," Forward "+(0,l.toDisplayString)(parseInt(t.year)+1),13,j)):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.version),1),(0,l.createElementVNode)("td",null,[(0,l.createTextVNode)("    "),(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(t.year),1),(0,l.createTextVNode)("    ")]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(e.formatProjectType(t.type)),1),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("div",T,[L,(0,l.createElementVNode)("ul",z,[(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/HGDGScore/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("HGDG Score")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/strategies-and-activities/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Implementation Schedule/ Workplan")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/budget/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Budget Requirements ")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/team/".concat(t.id,"/revision/plan/team")},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Implementing Team")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/EvaluationMechanismTool/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Monitoring and Evaluation")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/RiskManagement/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Risk Management")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Te,{class:"dropdown-item",href:"/Signatories/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Signatories")]})),_:2},1032,["href"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Le,{class:"dropdown-item",onClick:function(e){return Re.setLinkModal(t.id)}},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Print Comprehensive Workplan")]})),_:2},1032,["onClick"])]),(0,l.createElementVNode)("li",null,[(0,l.createVNode)(Le,{class:"dropdown-item",onClick:function(e){return Re.openPrintProfile(t.id)}},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)(" Print Project "),"p"===t.type?((0,l.openBlock)(),(0,l.createElementBlock)("span",W,"Profile")):((0,l.openBlock)(),(0,l.createElementBlock)("span",U,"Design"))]})),_:2},1032,["onClick"])]),(0,l.createElementVNode)("li",null,["d"===t.type?((0,l.openBlock)(),(0,l.createBlock)(Te,{key:0,class:"dropdown-item",href:"/cdf/".concat(t.id)},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)(" Cash Disbursements Forecast ")]})),_:2},1032,["href"])):(0,l.createCommentVNode)("",!0)])])])])])})),256))])])]),(0,l.createElementVNode)("div",Z,[(0,l.createElementVNode)("div",O,[(0,l.createVNode)(ze,{next:n.data.next_page_url,prev:n.data.prev_page_url},null,8,["next","prev"])])]),(0,l.createElementVNode)("div",q,[(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("p",null,(0,l.toDisplayString)(n.data.from)+" to "+(0,l.toDisplayString)(n.data.to)+" of "+(0,l.toDisplayString)(n.data.total)+" entries ",1)])])])]),De.showAIPModal?((0,l.openBlock)(),(0,l.createBlock)(We,{key:1,onCloseModalEvent:Re.hideAIPModal},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",H,[(0,l.createElementVNode)("iframe",{src:De.aip_printLink,style:{width:"100%",height:"500px"}},null,8,Y)])]})),_:1},8,["onCloseModalEvent"])):(0,l.createCommentVNode)("",!0),De.WorkPlanModalVisible?((0,l.openBlock)(),(0,l.createBlock)(Ue,{key:2,onCloseModalEvent:Re.toggleWorkPlanModal,title:"Comprehensive Workplan/Schedule"},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",G,[(0,l.createElementVNode)("iframe",{src:De.cmp_link,style:{width:"100%",height:"500px"}},null,8,J)])]})),_:1},8,["onCloseModalEvent"])):(0,l.createCommentVNode)("",!0),De.SIPModalVisible?((0,l.openBlock)(),(0,l.createBlock)(Ze,{key:3,onCloseModalEvent:t[9]||(t[9]=function(e){return De.SIPModalVisible=!1}),title:"SIP Profile"},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)(" Select PAPS: "+(0,l.toDisplayString)(De.selected_sip_paps)+" ",1),(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return De.selected_sip_paps=e}),class:"form-select"},[X,((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(De.paps,(function(e){return(0,l.openBlock)(),(0,l.createElementBlock)("option",{value:e.id},(0,l.toDisplayString)(e.paps_desc),9,K)})),256))],512),[[l.vModelSelect,De.selected_sip_paps]]),"sip"==n.source?((0,l.openBlock)(),(0,l.createBlock)(Te,{key:0,class:"btn btn-primary btn-sm",href:"/revision/streamlined/create/".concat(De.selected_sip_paps,"?source=sip"),disabled:!De.selected_sip_paps},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)(" Add SIP Profile ")]})),_:1},8,["href","disabled"])):(0,l.createCommentVNode)("",!0),(0,l.createTextVNode)("  ")]})),_:1})):(0,l.createCommentVNode)("",!0),De.printProfileVIsible?((0,l.openBlock)(),(0,l.createBlock)(Oe,{key:4,onCloseModalEvent:t[10]||(t[10]=function(e){return De.printProfileVIsible=!1}),title:"Printed Output"},{default:(0,l.withCtx)((function(){return[Q,(0,l.createElementVNode)("div",ee,[(0,l.createElementVNode)("iframe",{src:De.ppa_link,style:{width:"100%",height:"500px"}},null,8,te)])]})),_:1})):(0,l.createCommentVNode)("",!0),De.ReturnWithAmmendmentsModalVisible?((0,l.openBlock)(),(0,l.createBlock)(qe,{key:5,onCloseModalEvent:Re.hideReturnWithAmmendmentsModal,title:"REQUEST FOR RETURN"},{default:(0,l.withCtx)((function(){return[(0,l.createElementVNode)("div",ne,[(0,l.createElementVNode)("table",le,[(0,l.createElementVNode)("tr",null,[oe,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("u",null,(0,l.toDisplayString)(De.selected_plan.project_title),1)]),re,(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("u",null,(0,l.toDisplayString)(De.selected_plan.FFUNCTION),1)])]),(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",ae,[(0,l.createElementVNode)("div",ie,[(0,l.createElementVNode)("input",{type:"file",multiple:"",onChange:t[11]||(t[11]=function(){return Re.handleFiles&&Re.handleFiles.apply(Re,arguments)}),accept:"application/pdf",ref:"fileInput"},null,544),(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("button",{type:"button",onClick:t[12]||(t[12]=function(){return Re.uploadFiles&&Re.uploadFiles.apply(Re,arguments)}),class:"btn btn-primary text-white"},"Upload"),(0,l.createElementVNode)("button",{type:"button",onClick:t[13]||(t[13]=function(){return Re.cancelFiles&&Re.cancelFiles.apply(Re,arguments)}),class:"btn btn-danger text-white"},"Cancel ")]),(0,l.createElementVNode)("p",null,[De.files.length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",ce,[se,(0,l.createElementVNode)("table",null,[de,((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(De.files,(function(t,n){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:n},[(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("img",{src:e.getPreUploadFileIcon(t.name.split(".").pop()),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,ue)]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.name)+" ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.name.split(".").pop())+" ",1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(Re.formatFileSize(t.size))+" ",1)])})),128))])])):(0,l.createCommentVNode)("",!0)])])]),(0,l.createElementVNode)("td",pe,[(0,l.createElementVNode)("div",me,[(0,l.createElementVNode)("div",he,[fe,(0,l.createTextVNode)("  "),(0,l.createElementVNode)("button",{onClick:t[14]||(t[14]=function(){return Re.deleteFiles&&Re.deleteFiles.apply(Re,arguments)}),class:"btn btn-danger btn-sm mL-2 text-white",disabled:!De.file_ids.length}," Delete Selected ",8,ve)]),(0,l.createElementVNode)("table",ge,[(0,l.createElementVNode)("thead",null,[(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("th",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"checkbox",checked:De.allSelected,"onUpdate:modelValue":t[15]||(t[15]=function(e){return De.allSelected=e}),onChange:t[16]||(t[16]=function(e){return Re.toggleSelectAll(e)})},null,40,be),[[l.vModelCheckbox,De.allSelected]])]),Ve,Ne,Ee,we,ke,ye])]),(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(De.docs,(function(n){return(0,l.openBlock)(),(0,l.createElementBlock)("tr",{key:n.id},[(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("input",{type:"checkbox",value:n.id,onChange:function(e){return Re.toggleFileSelection(n.id,e)},"onUpdate:modelValue":t[17]||(t[17]=function(e){return De.file_ids=e})},null,40,xe),[[l.vModelCheckbox,De.file_ids]])]),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("img",{src:Re.getFileIcon(n),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,_e)]),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(n.filename),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(e.format_number(n.file_size/1024,2,!0))+" KB ",1),(0,l.createElementVNode)("th",{style:(0,l.normalizeStyle)({backgroundColor:"0"===n.return_executed?"#d4f8d4":"#f8d4d4"})},(0,l.toDisplayString)("0"===n.return_executed?"New":"Used"),5),(0,l.createElementVNode)("td",null,[(0,l.createElementVNode)("button",{onClick:function(e){return Re.previewFile(n)},class:"p-1 rounded bg-transparent hover:bg-blue-100 border-0",title:"Preview"},Pe,8,Ce),(0,l.createTextVNode)("  "),(0,l.createElementVNode)("a",{href:"/movs/download/".concat(n.id),class:"inline-flex items-center",title:"Download",target:"_blank"},Fe,8,Se),(0,l.createTextVNode)("  ")]),(0,l.createElementVNode)("td",null,"0"+(0,l.toDisplayString)(n.return_batch),1)])})),128))])]),(0,l.createElementVNode)("table",Me,[(0,l.createElementVNode)("tr",null,[Be,(0,l.createElementVNode)("td",null,[(0,l.withDirectives)((0,l.createElementVNode)("textarea",{class:"form-control","onUpdate:modelValue":t[18]||(t[18]=function(e){return De.remarks=e})},null,512),[[l.vModelText,De.remarks]])])]),(0,l.createElementVNode)("tr",null,[(0,l.createElementVNode)("td",Ae,[(0,l.createElementVNode)("div",null,[(0,l.createTextVNode)(" Type: "),(0,l.withDirectives)((0,l.createElementVNode)("select",{"onUpdate:modelValue":t[19]||(t[19]=function(e){return De.return_request_type=e})},Ie,512),[[l.vModelSelect,De.return_request_type]])]),(0,l.createElementVNode)("button",{onClick:t[20]||(t[20]=function(e){return Re.returnWithAmmendmentsActual()}),style:{padding:"4px 10px",border:"none",borderRadius:"4px",backgroundColor:"red",color:"white",cursor:"pointer",fontWeight:"bold"}}," REQUEST FOR RETURN ")])])])])])])])])]})),_:1},8,["onCloseModalEvent"])):(0,l.createCommentVNode)("",!0)])],64)}]])},4706:(e,t,n)=>{n.d(t,{Z:()=>f});var l=n(821),o={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},r={class:"row",style:{width:"380px"}},a={class:"bgc-white"},i={class:"modal-header"},c=(0,l.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Filtering",-1),s={class:"modal-body"};const d={props:{title:String}};var u=n(3379),p=n.n(u),m=n(8776),h={insert:"head",singleton:!1};p()(m.Z,h);m.Z.locals;const f=(0,n(3744).Z)(d,[["render",function(e,t,n,d,u,p){return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,[c,(0,l.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,l.createElementVNode)("div",s,[(0,l.renderSlot)(e.$slots,"default")])])])])}]])},5543:(e,t,n)=>{n.d(t,{Z:()=>E});var l=n(821),o=function(e){return(0,l.pushScopeId)("data-v-91132c26"),e=e(),(0,l.popScopeId)(),e},r={class:"permissions-modal"},a={class:"modal",tabindex:"-1",role:"dialog"},i={class:"modal-dialog modal-xl draggable-dialog",ref:"dialog"},c={class:"d-flex justify-content-center"},s={class:"modal-content resizable-content",ref:"content"},d={class:"modal-header draggable-header",style:{"background-color":"#030014"},ref:"header"},u={class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},p=[o((function(){return(0,l.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)}))],m={class:"modal-body"},h=o((function(){return(0,l.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1)})),f={class:"resize-handle",ref:"resizeHandle"};const v={props:{title:String},data:function(){return{value:null}},mounted:function(){this.makeDraggable(),this.makeResizable()},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},makeDraggable:function(){var e=this.$refs.dialog,t=this.$refs.header,n=!1,l=0,o=0,r=0,a=0;t.style.cursor="move",t.addEventListener("mousedown",(function(e){n=!0,l=e.clientX-r,o=e.clientY-a,document.body.style.userSelect="none"})),document.addEventListener("mousemove",(function(t){n&&(r=t.clientX-l,a=t.clientY-o,e.style.transform="translate(".concat(r,"px, ").concat(a,"px)"))})),document.addEventListener("mouseup",(function(){n=!1,document.body.style.userSelect=""}))},makeResizable:function(){var e,t,n,l,o=this.$refs.content;this.$refs.resizeHandle.addEventListener("mousedown",(function(i){i.preventDefault(),e=i.clientX,t=i.clientY,n=o.offsetWidth,l=o.offsetHeight,document.body.style.userSelect="none",document.addEventListener("mousemove",r),document.addEventListener("mouseup",a)}));var r=function(r){var a=n+(r.clientX-e),i=l+(r.clientY-t);o.style.width=Math.max(a,500)+"px",o.style.height=Math.max(i,300)+"px"},a=function e(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e),document.body.style.userSelect=""}},loadPermissions:function(){}}};var g=n(3379),b=n.n(g),V=n(1311),N={insert:"head",singleton:!1};b()(V.Z,N);V.Z.locals;const E=(0,n(3744).Z)(v,[["render",function(e,t,n,o,v,g){return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",d,[(0,l.createElementVNode)("h4",u,[(0,l.createElementVNode)("b",null,(0,l.toDisplayString)(n.title),1)]),(0,l.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return g.closeModal&&g.closeModal.apply(g,arguments)})},p)],512),(0,l.createElementVNode)("div",m,[(0,l.renderSlot)(e.$slots,"default",{},void 0,!0)]),h,(0,l.createElementVNode)("div",f,null,512)],512)])],512)])])}],["__scopeId","data-v-91132c26"]])},3132:(e,t,n)=>{n.d(t,{Z:()=>c});var l=n(821),o={class:"pagination"},r={class:"page-item"},a={class:"page-item"};const i={props:{prev:String,next:String}};const c=(0,n(3744).Z)(i,[["render",function(e,t,n,i,c,s){var d=(0,l.resolveComponent)("Link");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("ul",o,[(0,l.createElementVNode)("li",r,[n.prev?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,class:"page-link",href:n.prev,"preserve-scroll":""},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Previous")]})),_:1},8,["href"])):((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:1,class:(0,l.normalizeClass)(["page-link",{"text-muted":!n.prev}])},"Previous",2))]),(0,l.createElementVNode)("li",a,[n.next?((0,l.openBlock)(),(0,l.createBlock)(d,{key:0,class:"page-link",href:n.next,"preserve-scroll":""},{default:(0,l.withCtx)((function(){return[(0,l.createTextVNode)("Next")]})),_:1},8,["href"])):((0,l.openBlock)(),(0,l.createElementBlock)("span",{key:1,class:(0,l.normalizeClass)(["page-link",{"text-muted":!n.next}])},"Next",2))])])])}]])},3922:(e,t,n)=>{n.d(t,{Z:()=>N});var l=n(821),o=function(e){return(0,l.pushScopeId)("data-v-8ec2bb50"),e=e(),(0,l.popScopeId)(),e},r={class:"permissions-modal"},a={class:"modal",tabindex:"-1",role:"dialog"},i={class:"modal-dialog modal-xl"},c={class:"d-flex justify-content-center"},s={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},d={class:"modal-header",style:{"background-color":"#030014"}},u=o((function(){return(0,l.createElementVNode)("h4",{class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},[(0,l.createElementVNode)("b",null,"PRINT PREVIEW")],-1)})),p=[o((function(){return(0,l.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)}))],m={class:"modal-body"},h=o((function(){return(0,l.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1)}));const f={props:{},data:function(){return{value:null,options:["Batman","Robin","Joker"]}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var v=n(3379),g=n.n(v),b=n(6900),V={insert:"head",singleton:!1};g()(b.Z,V);b.Z.locals;const N=(0,n(3744).Z)(f,[["render",function(e,t,n,o,f,v){return(0,l.openBlock)(),(0,l.createElementBlock)("div",r,[(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",c,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",d,[u,(0,l.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return v.closeModal&&v.closeModal.apply(v,arguments)})},p)]),(0,l.createElementVNode)("div",m,[(0,l.renderSlot)(e.$slots,"default",{},void 0,!0)]),h])])])])])}],["__scopeId","data-v-8ec2bb50"]])}}]);