/*! For license information please see 4118.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4118],{4118(e,t,o){o.r(t),o.d(t,{default:()=>S});var r=o(9726);function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=Array(t);o<t;o++)r[o]=e[o];return r}var i={class:"relative row gap-20 masonry pos-r"},c={class:"peers fxw-nw jc-sb ai-c"},l={class:"col-md-8"},s={key:0,class:"fs-6 c-red-500"},d={key:1,class:"fs-6 c-red-500"},m=["value"],u={key:2,class:"fs-6 c-red-500"},p={key:3,class:"fs-6 c-red-500"},f={key:4,class:"fs-6 c-red-500"},h={key:5,class:"fs-6 c-red-500"},_={key:6,class:"fs-6 c-red-500"},v={key:7,class:"fs-6 c-red-500"},y=["disabled"];var g=o(9234),N=o(5216),E=o(5439),b=o(2072);function V(){var e,t,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",n=o.toStringTag||"@@toStringTag";function a(o,r,n,a){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return O(s,"_invoke",function(o,r,n){var a,c,l,s=0,d=n||[],m=!1,u={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,o){return a=t,c=0,l=e,u.n=o,i}};function p(o,r){for(c=o,l=r,t=0;!m&&s&&!n&&t<d.length;t++){var n,a=d[t],p=u.p,f=a[2];o>3?(n=f===r)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=o<2&&p<a[1])?(c=0,u.v=r,u.n=a[1]):p<f&&(n=o<3||a[0]>r||r>f)&&(a[4]=o,a[5]=r,u.n=f,c=0))}if(n||o>1)return i;throw m=!0,r}return function(n,d,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===d&&p(d,f),c=d,l=f;(t=c<2?e:l)||!m;){a||(c?c<3?(c>1&&(u.n=-1),p(c,l)):u.n=l:u.v=l);try{if(s=2,a){if(c||(n="next"),t=a[n]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),c=1);a=e}else if((t=(m=u.n<0)?l:o.call(r,u))!==i)break}catch(t){a=e,c=1,l=t}finally{s=1}}return{value:t,done:m}}}(o,n,a),!0),s}var i={};function c(){}function l(){}function s(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(O(t={},r,function(){return this}),t),m=s.prototype=c.prototype=Object.create(d);function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,O(e,n,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=s,O(m,"constructor",s),O(s,"constructor",l),l.displayName="GeneratorFunction",O(s,n,"GeneratorFunction"),O(m),O(m,n,"Generator"),O(m,r,function(){return this}),O(m,"toString",function(){return"[object Generator]"}),(V=function(){return{w:a,m:u}})()}function O(e,t,o,r){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}O=function(e,t,o,r){function a(t,o){O(e,t,function(e){return this._invoke(t,o,e)})}t?n?n(e,t,{value:o,enumerable:!r,configurable:!r,writable:!r}):e[t]=o:(a("next",0),a("throw",1),a("return",2))},O(e,t,o,r)}function D(e,t,o,r,n,a,i){try{var c=e[a](i),l=c.value}catch(e){return void o(e)}c.done?t(l):Promise.resolve(l).then(r,n)}const C={props:{editData:Object,sectors:Object,accounts:Object,codes:Object,functions:Object,programs:Object,ooes:Object},components:{Select2:o.n(b)(),ModelSelect:E.om,Places:function(){return new Promise(function(e){setTimeout(function(){e(N.A)},2e3)})}},data:function(){return{submitted:!1,chart_selected:"",pap_selected:"",prog_selected:"",total:0,idprogram_selected:"0",program_typed:"",form:(0,g.mN)({year:"",FFUNCCOD:"",FFUNCTION:"",raao_type:"",program_id:"",aip_code:"",source:"",planned_ps:"",planned_mooe:"",planned_fe:"",planned_co:"",planned_total:"",approved_ps:"",approved_mooe:"",approved_fe:"",approved_co:"",approved_total:"",raao_desc:"",id:null}),sector_code:"",pageTitle:"",data_programs:[],dt_prog:[],data_ooes:[],dt_ooes:[],dt_ooes_length:[],planned_total:0,aip_initial_value:""}},computed:{formattedPrograms:function(){var e=this,t=this.programs;return this.form.FFUNCCOD&&(t=t.filter(function(t){return t.FFUNCCOD===e.form.FFUNCCOD})),t.map(function(e){return{value:e.recid,label:e.FPROGRAM,raaotype:e.ftype,FRAODESC:e.FRAODESC,FFUNCCOD:e.FFUNCCOD,raohsid:e.raohsid}})},getTotal12:function(){var e=parseFloat(this.form.first_sem)+parseFloat(this.form.second_sem);return this.format_number_conv(e,2,!0)},computed_pastyear:function(){return this.format_number_conv(this.form.past_year,2,!0)},computed_sem1:function(){return this.format_number_conv(this.form.first_sem,2,!0)},computed_sem2:function(){return this.format_number_conv(this.form.second_sem,2,!0)}},mounted:function(){this.dt_prog=this.programs,this.data_programs=this.programs.map(function(e){return e.FPROGRAM}),this.dt_ooes=[],this.dt_ooes=this.ooes,void 0!==this.editData?(this.bari&&(this.bar=this.bari),this.pageTitle="Edit",this.form.year=this.editData.year,this.form.FFUNCCOD=this.editData.FFUNCCOD,this.form.raao_type=this.editData.raao_type,this.sector_code=this.getFirstFourChars(this.editData.aip_code),this.form.program_id=this.editData.program_id,this.form.source=this.editData.source,this.form.raao_desc=this.editData.raao_desc,this.form.planned_ps=this.editData.planned_ps,this.form.planned_mooe=this.editData.planned_mooe,this.form.planned_fe=this.editData.planned_fe,this.form.planned_co=this.editData.planned_co,this.form.planned_total=this.editData.planned_total,this.form.approved_ps=this.editData.approved_ps,this.form.approved_mooe=this.editData.approved_mooe,this.form.approved_fe=this.editData.approved_fe,this.form.approved_co=this.editData.approved_co,this.form.approved_total=this.editData.approved_total,this.form.final_tag=this.editData.final_tag,this.form.aip_code=this.editData.aip_code,this.form.id=this.editData.id):(this.pageTitle="Create ",this.form.planned_ps=0,this.form.planned_mooe=0,this.form.planned_fe=0,this.form.planned_co=0,this.setCurrentYear())},methods:{submit:function(){this.sector_code?void 0!==this.editData?this.form.patch("/annual-investment-plans/"+this.editData.id,this.form):this.form.post("/annual-investment-plans/",this.form):alert("Select a sector first!!!")},getOOEOTotal:function(){return(e=V().m(function e(){return V().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}),function(){var t=this,o=arguments;return new Promise(function(r,n){var a=e.apply(t,o);function i(e){D(a,r,n,i,c,"next",e)}function c(e){D(a,r,n,i,c,"throw",e)}i(void 0)})})();var e},setCode:function(){var e=this.accounts.indexOf(this.chart_selected);this.form.account_code=this.codes[e],this.form.object_of_expenditure=this.chart_selected},searchByAccountCode:function(){var e=this.codes.indexOf(this.form.account_code.toString());this.chart_selected=this.accounts[parseInt(e)],this.form.object_of_expenditure=this.chart_selected},setRaaoDesc:function(){var e=this;if(this.form.program_id){var t=this.formattedPrograms.find(function(t){return t.value===e.form.program_id});""===this.form.raao_type&&(this.formattedPrograms.find(function(t){return t.value===e.form.program_id&&t.raaotype===e.form.raao_type}),function(e){throw new TypeError('"'+e+'" is read-only')}("selectedProgram")),this.form.raao_desc=t?t.FRAODESC:null}else this.form.raao_desc=null},searchByAccountCodeForEditMounted:function(){var e=this.codes.indexOf(this.form.account_code.toString());this.chart_selected=this.accounts[parseInt(e)]},setCurrentYear:function(){var e=(new Date).getFullYear();this.form.year=parseFloat(e)+1},filterProgram:function(){var e=this.$refs.raaoSelect;this.form.category=e.options[e.selectedIndex].text},setAIPInitialValue:function(){this.sector_code&&(this.form.aip_code=this.sector_code+"-"),this.form.FFUNCCOD&&(this.sector_code?this.form.aip_code=this.sector_code+"-"+this.office_aip[this.form.FFUNCCOD]+"-":this.form.aip_code=this.office_aip[this.form.FFUNCCOD]+"-")},setOOEValue:function(){var e=this,t=this.dt_ooes.filter(function(t){return t.recid===e.form.idooe});this.form.account_code=t[0].FACTCODE,this.searchByAccountCode(),this.form.object_of_expenditure=t[0].FOOEDESC,this.form.first_sem=this.format_number_conv(t[0].sem1,2,!1),this.form.second_sem=this.format_number_conv(t[0].sem2,2,!1),this.form.past_year=this.format_number_conv(t[0].past_year,2,!1)}}};const F=(0,o(6262).A)(C,[["render",function(e,t,o,a,g,N){var E=(0,r.resolveComponent)("Link"),b=(0,r.resolveComponent)("multiselect");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(g.pageTitle)+" Annual Investment Plan",1),(0,r.createVNode)(E,{href:"/annual-investment-plans"},{default:(0,r.withCtx)(function(){return n(t[16]||(t[16]=[(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)]))}),_:1})]),(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,r.withModifiers)(function(e){return N.submit()},["prevent"]))},[t[21]||(t[21]=(0,r.createElementVNode)("input",{type:"hidden",required:""},null,-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=function(e){return g.form.idpaps=e}),class:"form-control",autocomplete:"positionchrome-off"},null,512),[[r.vModelText,g.form.idpaps]]),t[22]||(t[22]=(0,r.createElementVNode)("label",null,"YEAR",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return g.form.year=e}),onChange:t[2]||(t[2]=function(){return N.getOOEOTotal&&N.getOOEOTotal.apply(N,arguments)})},null,544),[[r.vModelText,g.form.year]]),g.form.errors.year?((0,r.openBlock)(),(0,r.createElementBlock)("div",s,(0,r.toDisplayString)(g.form.errors.year),1)):(0,r.createCommentVNode)("",!0),t[23]||(t[23]=(0,r.createElementVNode)("label",null,"PROGRAM",-1)),t[24]||(t[24]=(0,r.createTextVNode)("  ",-1)),t[25]||(t[25]=(0,r.createElementVNode)("br",null,null,-1)),(0,r.createTextVNode)("idprogram "+(0,r.toDisplayString)(g.form.program_id)+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createVNode)(b,{options:N.formattedPrograms,searchable:!0,modelValue:g.form.program_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return g.form.program_id=e}),label:"label","track-by":"label",onChange:N.getOOEOTotal,disabled:void 0!==o.editData},null,8,["options","modelValue","onChange","disabled"])]),g.form.errors.program_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,(0,r.toDisplayString)(g.form.errors.program_id),1)):(0,r.createCommentVNode)("",!0),t[26]||(t[26]=(0,r.createElementVNode)("label",null,"OFFICE",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(g.form.FFUNCCOD)+" office AIP: "+(0,r.toDisplayString)(e.office_aip[g.form.FFUNCCOD])+" ",1),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return g.form.FFUNCCOD=e}),onChange:t[5]||(t[5]=function(){return N.getOOEOTotal&&N.getOOEOTotal.apply(N,arguments)})},[t[17]||(t[17]=(0,r.createElementVNode)("option",null,null,-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.functions,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{value:e.FFUNCCOD},(0,r.toDisplayString)(e.FFUNCTION),9,m)}),256))],544),[[r.vModelSelect,g.form.FFUNCCOD]]),g.form.errors.FFUNCCOD?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,(0,r.toDisplayString)(g.form.errors.FFUNCCOD),1)):(0,r.createCommentVNode)("",!0),t[27]||(t[27]=(0,r.createElementVNode)("label",null,"RAAO TYPE",-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(g.form.raao_type)+" ",1),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return g.form.raao_type=e}),ref:"raaoSelect",onChange:t[7]||(t[7]=function(){return N.getOOEOTotal&&N.getOOEOTotal.apply(N,arguments)})},n(t[18]||(t[18]=[(0,r.createStaticVNode)('<option></option><option value="1">Personnel Services</option><option value="2">Maintenance, Operating, and Other Expenses</option><option value="3">Capital Outlay</option><option value="4">Programs</option><option value="5">Projects</option>',6)])),544),[[r.vModelSelect,g.form.raao_type]]),g.form.errors.raao_type?((0,r.openBlock)(),(0,r.createElementBlock)("div",p,(0,r.toDisplayString)(g.form.errors.raao_type),1)):(0,r.createCommentVNode)("",!0),t[28]||(t[28]=(0,r.createElementVNode)("label",null,"RAAO Description",-1)),t[29]||(t[29]=(0,r.createTextVNode)("  ",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(e){return g.form.raao_desc=e}),type:"text"},null,512),[[r.vModelText,g.form.raao_desc]]),g.form.errors.raao_desc?((0,r.openBlock)(),(0,r.createElementBlock)("div",f,(0,r.toDisplayString)(g.form.errors.raao_desc),1)):(0,r.createCommentVNode)("",!0),t[30]||(t[30]=(0,r.createElementVNode)("label",null,"Sector",-1)),t[31]||(t[31]=(0,r.createTextVNode)("  ",-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=function(e){return g.sector_code=e}),ref:"raaoSelect",onChange:t[10]||(t[10]=function(){return N.setAIPInitialValue&&N.setAIPInitialValue.apply(N,arguments)})},n(t[19]||(t[19]=[(0,r.createElementVNode)("option",{value:"1000"},"General Public Services Sector",-1),(0,r.createElementVNode)("option",{value:"3000"},"Social Services Sector",-1),(0,r.createElementVNode)("option",{value:"8000"},"Economic Services Sector",-1)])),544),[[r.vModelSelect,g.sector_code]]),g.form.errors.aip_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",h,(0,r.toDisplayString)(g.form.errors.aip_code),1)):(0,r.createCommentVNode)("",!0),t[32]||(t[32]=(0,r.createElementVNode)("label",null,"AIP Code",-1)),t[33]||(t[33]=(0,r.createTextVNode)("  ",-1)),(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control","onUpdate:modelValue":t[11]||(t[11]=function(e){return g.form.aip_code=e}),type:"text"},null,512),[[r.vModelText,g.form.aip_code]]),g.form.errors.aip_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",_,(0,r.toDisplayString)(g.form.errors.aip_code),1)):(0,r.createCommentVNode)("",!0),t[34]||(t[34]=(0,r.createElementVNode)("label",null,"Source",-1)),t[35]||(t[35]=(0,r.createTextVNode)("  ",-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=function(e){return g.form.source=e})},n(t[20]||(t[20]=[(0,r.createElementVNode)("option",null,"AIP",-1),(0,r.createElementVNode)("option",null,"SIP#1",-1),(0,r.createElementVNode)("option",null,"SIP#2",-1),(0,r.createElementVNode)("option",null,"SIP#3",-1),(0,r.createElementVNode)("option",null,"SIP#4",-1)])),512),[[r.vModelSelect,g.form.source]]),g.form.errors.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",v,(0,r.toDisplayString)(g.form.errors.source),1)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[13]||(t[13]=function(e){return g.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,g.form.id]]),(0,r.createElementVNode)("button",{type:"button",class:"btn text-white btn-primary mt-3 text-white",onClick:t[14]||(t[14]=function(e){return N.submit()}),disabled:g.form.processing}," Save changes ",8,y),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(o.programs[0]),1)],32)])])}]]),S=F},5216(e,t,o){o.d(t,{A:()=>y});var r=o(9726),n={class:"masonry-item w-100"},a={class:"row gap-20"},i={class:"col-md-3 col-6"},c={class:"layers bd bgc-white p-20"},l={class:"layer w-100 mB-10"},s={class:"lh-1"},d={class:"layer w-100"},m={class:"peers ai-sb fxw-nw"},u={class:"layers bd bgc-white p-20"},p={class:"layer w-100"},f={class:"peers ai-sb fxw-nw"},h={class:"form-control"};const _={props:{mun:Array},data:function(){return{mun_code:"",barsel:"",munsel:"",bar:[]}},computed:{my_mun:function(){return this.mun_code},my_bar:function(){return this.bar}},mounted:function(){},watch:{},methods:{loadBar:function(){var e=this;alert(this.munsel),""===this.munsel||axios.post("/places/bar",{mun:this.munsel}).then(function(t){e.bar=t.data.data})},showMun:function(){alert(this.mun_code)}}};const v=(0,o(6262).A)(_,[["render",function(e,t,o,_,v,y){return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("h6",s,"Municipalities "+(0,r.toDisplayString)(y.my_mun),1)]),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",m,[t[2]||(t[2]=(0,r.createElementVNode)("div",{class:"peer peer-greed"},[(0,r.createElementVNode)("span",{id:"sparklinedash"})],-1)),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return v.munsel=e}),onChange:t[1]||(t[1]=function(){return y.loadBar&&y.loadBar.apply(y,arguments)})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.mun,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",null,(0,r.toDisplayString)(e.citymunDesc),1)}),256))],544),[[r.vModelSelect,v.munsel]])])])]),(0,r.createElementVNode)("div",u,[t[5]||(t[5]=(0,r.createElementVNode)("div",{class:"layer w-100 mB-10"},[(0,r.createElementVNode)("h6",{class:"lh-1"},"Barangay")],-1)),(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",f,[t[4]||(t[4]=(0,r.createElementVNode)("div",{class:"peer peer-greed"},[(0,r.createElementVNode)("span",{id:"sparklinedash"})],-1)),(0,r.createElementVNode)("select",h,[t[3]||(t[3]=(0,r.createElementVNode)("option",null,null,-1)),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(v.bar,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",null,(0,r.toDisplayString)(e.brgyDesc),1)}),256))])])])])])])])}]]),y=v}}]);