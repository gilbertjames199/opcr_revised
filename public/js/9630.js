/*! For license information please see 9630.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9630],{648(e,t,o){o.d(t,{A:()=>a});var n=o(6314),r=o.n(n)()(function(e){return e[1]});r.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const a=r},1256(e,t,o){o.d(t,{A:()=>a});var n=o(6314),r=o.n(n)()(function(e){return e[1]});r.push([e.id,".modal[data-v-8ec2bb50]{display:block}",""]);const a=r},1596(e,t,o){o.d(t,{A:()=>b});var n=o(9726);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var l={class:"permissions-modal"},i={class:"modal",tabindex:"-1",role:"dialog"},c={class:"modal-dialog modal-xl"},d={class:"d-flex justify-content-center"},s={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},u={class:"modal-header",style:{"background-color":"#030014"}},m={class:"modal-body"};const p={props:{},data:function(){return{value:null,options:["Batman","Robin","Joker"]}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var f=o(5072),h=o.n(f),v=o(1256),g={insert:"head",singleton:!1};h()(v.A,g);v.A.locals;const y=(0,o(6262).A)(p,[["render",function(e,t,o,a,p,f){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",u,[t[2]||(t[2]=(0,n.createElementVNode)("h4",{class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},[(0,n.createElementVNode)("b",null,"PRINT PREVIEW")],-1)),(0,n.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return f.closeModal&&f.closeModal.apply(f,arguments)})},r(t[1]||(t[1]=[(0,n.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)])))]),(0,n.createElementVNode)("div",m,[(0,n.renderSlot)(e.$slots,"default",{},void 0,!0)]),t[3]||(t[3]=(0,n.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1))])])])])])}],["__scopeId","data-v-8ec2bb50"]]),b=y},4239(e,t,o){o.d(t,{A:()=>a});var n=o(6314),r=o.n(n)()(function(e){return e[1]});r.push([e.id,".custom-modal[data-v-165078a6]{max-width:80%!important;width:80%!important}.modal[data-v-165078a6]{display:block}",""]);const a=r},4399(e,t,o){o.d(t,{A:()=>s});var n=o(9726);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var l={class:"pagination"},i={class:"page-item"},c={class:"page-item"};const d={props:{prev:String,next:String}};const s=(0,o(6262).A)(d,[["render",function(e,t,o,a,d,s){var u=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("ul",l,[(0,n.createElementVNode)("li",i,[o.prev?((0,n.openBlock)(),(0,n.createBlock)(u,{key:0,class:"page-link",href:o.prev,"preserve-scroll":""},{default:(0,n.withCtx)(function(){return r(t[0]||(t[0]=[(0,n.createTextVNode)("Previous",-1)]))}),_:1},8,["href"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(["page-link",{"text-muted":!o.prev}])},"Previous",2))]),(0,n.createElementVNode)("li",c,[o.next?((0,n.openBlock)(),(0,n.createBlock)(u,{key:0,class:"page-link",href:o.next,"preserve-scroll":""},{default:(0,n.withCtx)(function(){return r(t[1]||(t[1]=[(0,n.createTextVNode)("Next",-1)]))}),_:1},8,["href"])):((0,n.openBlock)(),(0,n.createElementBlock)("span",{key:1,class:(0,n.normalizeClass)(["page-link",{"text-muted":!o.next}])},"Next",2))])])])}]])},4855(e,t,o){o.d(t,{A:()=>N});var n=o(9726);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var l={class:"permissions-modal"},i={class:"modal",tabindex:"-1",role:"dialog"},c={class:"modal-dialog custom-modal"},d={class:"d-flex justify-content-center"},s={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},u={class:"modal-header",style:{"background-color":"#030014"}},m={class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},p={class:"modal-body"};const f={props:{title:String},data:function(){return{value:null}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var h=o(5072),v=o.n(h),g=o(4239),y={insert:"head",singleton:!1};v()(g.A,y);g.A.locals;const b=(0,o(6262).A)(f,[["render",function(e,t,o,a,f,h){return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("h4",m,[(0,n.createElementVNode)("b",null,(0,n.toDisplayString)(o.title),1)]),(0,n.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return h.closeModal&&h.closeModal.apply(h,arguments)})},r(t[1]||(t[1]=[(0,n.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)])))]),(0,n.createElementVNode)("div",p,[(0,n.renderSlot)(e.$slots,"default",{},void 0,!0)]),t[2]||(t[2]=(0,n.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1))])])])])])}],["__scopeId","data-v-165078a6"]]),N=b},5571(e,t,o){o.d(t,{A:()=>a});var n=o(6314),r=o.n(n)()(function(e){return e[1]});r.push([e.id,".sticky-header[data-v-21f9b529]{background:#fff;position:sticky;top:0;z-index:2}.row-centered[data-v-21f9b529]{text-align:center}.col-centered[data-v-21f9b529]{display:inline-block;float:none;margin-right:-4px;text-align:left}.pos[data-v-21f9b529]{position:top;top:240px}.force-white[data-v-21f9b529]{background-color:red!important}.no-stripe-bg[data-v-21f9b529]{--bs-table-accent-bg:#fff!important;background-color:#fff!important;position:relative;z-index:1}",""]);const a=r},7694(e,t,o){o.d(t,{A:()=>f});var n=o(9726),r={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},a={class:"row",style:{width:"380px"}},l={class:"bgc-white"},i={class:"modal-header"},c={class:"modal-body"};const d={props:{title:String}};var s=o(5072),u=o.n(s),m=o(648),p={insert:"head",singleton:!1};u()(m.A,p);m.A.locals;const f=(0,o(6262).A)(d,[["render",function(e,t,o,d,s,u){return(0,n.openBlock)(),(0,n.createElementBlock)("div",r,[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",l,[(0,n.createElementVNode)("div",i,[t[1]||(t[1]=(0,n.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Filtering",-1)),(0,n.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,n.createElementVNode)("div",c,[(0,n.renderSlot)(e.$slots,"default")])])])])}]])},9630(e,t,o){o.r(t),o.d(t,{default:()=>ut});var n=o(9726);function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var l={class:"row gap-20 masonry pos-r"},i={class:"peers fxw-nw jc-sb ai-c"},c={class:"peers"},d={class:"peer mR-10"},s={class:"peer"},u={class:"masonry-item w-100"},m={class:"bgc-white p-20 bd"},p={class:"table-responsive"},f={class:"table table-sm table-borderless table-striped table-hover"},h={class:"dropdown dropstart"},v={class:"dropdown-menu action-dropdown","aria-labelledby":"dropdownMenuButton1"},g=["onClick"],y=["onClick"],b={class:"row justify-content-center"},N={class:"col-md-12"},E={class:"row justify-content-center"},V={class:"col-md-12"},w={class:"sticky-header"},_={key:0},k={class:"d-flex justify-content-center"},x={class:"table-responsive w-100",style:{"max-width":"100%","overflow-x":"auto"}},A={class:"table table-sm table-bordered border-dark table-striped table-hover",style:{"table-layout":"fixed"}},S={rowspan:"2"},B={rowspan:"2"},C={rowspan:"2"},M={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},F={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},R={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},T={rowspan:"2"},D=["onUpdate:modelValue","onChange"],P={rowspan:"2"},I=["onClick"],O=["onClick"],j={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},q=["onUpdate:modelValue","onChange"],U={key:0,style:{color:"red","font-weight":"bold"}},z={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},G=["onUpdate:modelValue","onChange"],L={key:0,style:{color:"red","font-weight":"bold"}},$={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},Q=["onUpdate:modelValue","onChange"],Y={key:0,style:{color:"red","font-weight":"bold"}},W={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},H=["onUpdate:modelValue","onChange","disabled"],J={key:0,style:{color:"red","font-weight":"bold"}},K={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},X=["onUpdate:modelValue","onChange","disabled"],Z={key:0,style:{color:"red","font-weight":"bold"}},ee={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},te=["onUpdate:modelValue","onChange","disabled"],oe={key:0,style:{color:"red","font-weight":"bold"}},ne={style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},re=["onUpdate:modelValue","onChange","disabled"],ae={key:0,style:{color:"red","font-weight":"bold"}},le={key:0},ie={class:"bg-secondary text-white"},ce={key:0},de={key:1},se=["src"],ue=["href"],me=["onClick"],pe={key:2},fe={key:1},he={class:"d-flex justify-content-center"},ve={class:"table-responsive w-100",style:{"max-width":"100%","overflow-x":"auto"}},ge={class:"table table-sm table-bordered border-dark table-striped table-hover",style:{"table-layout":"fixed"}},ye={class:"sticky-header"},be={class:"bg-secondary text-white"},Ne={colspan:"4"},Ee=["checked"],Ve={colspan:"4"},we=["checked"],_e=["rowspan"],ke=["rowspan"],xe=["rowspan"],Ae=["onUpdate:modelValue"],Se=["onClick"],Be={class:"d-flex justify-content-center"},Ce={class:"d-flex justify-content-center"},Me={key:0},Fe={key:0},Re=["src"],Te={key:1},De=["src"],Pe={key:2},Ie=["src"],Oe={key:1},je={key:0},qe=["src"],Ue={key:1},ze=["src"],Ge={key:2},Le=["src"],$e={class:"d-flex justify-content-center"},Qe=["src"];var Ye=o(9234),We=o(7694),He=o(4399),Je=o(4855),Ke=o(1596),Xe=o(8646);function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function et(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return tt(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?tt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==o.return||o.return()}finally{if(i)throw a}}}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function ot(){var e,t,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",r=o.toStringTag||"@@toStringTag";function a(o,n,r,a){var c=n&&n.prototype instanceof i?n:i,d=Object.create(c.prototype);return nt(d,"_invoke",function(o,n,r){var a,i,c,d=0,s=r||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,o){return a=t,i=0,c=e,m.n=o,l}};function p(o,n){for(i=o,c=n,t=0;!u&&d&&!r&&t<s.length;t++){var r,a=s[t],p=m.p,f=a[2];o>3?(r=f===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((r=o<2&&p<a[1])?(i=0,m.v=n,m.n=a[1]):p<f&&(r=o<3||a[0]>n||n>f)&&(a[4]=o,a[5]=n,m.n=f,i=0))}if(r||o>1)return l;throw u=!0,n}return function(r,s,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===s&&p(s,f),i=s,c=f;(t=i<2?e:c)||!u;){a||(i?i<3?(i>1&&(m.n=-1),p(i,c)):m.n=c:m.v=c);try{if(d=2,a){if(i||(r="next"),t=a[r]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);a=e}else if((t=(u=m.n<0)?c:o.call(n,m))!==l)break}catch(t){a=e,i=1,c=t}finally{d=1}}return{value:t,done:u}}}(o,r,a),!0),d}var l={};function i(){}function c(){}function d(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(nt(t={},n,function(){return this}),t),u=d.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,nt(e,r,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=d,nt(u,"constructor",d),nt(d,"constructor",c),c.displayName="GeneratorFunction",nt(d,r,"GeneratorFunction"),nt(u),nt(u,r,"Generator"),nt(u,n,function(){return this}),nt(u,"toString",function(){return"[object Generator]"}),(ot=function(){return{w:a,m}})()}function nt(e,t,o,n){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}nt=function(e,t,o,n){function a(t,o){nt(e,t,function(e){return this._invoke(t,o,e)})}t?r?r(e,t,{value:o,enumerable:!n,configurable:!n,writable:!n}):e[t]=o:(a("next",0),a("throw",1),a("return",2))},nt(e,t,o,n)}function rt(e,t,o,n,r,a,l){try{var i=e[a](l),c=i.value}catch(e){return void o(e)}i.done?t(c):Promise.resolve(c).then(n,r)}const at={props:{auth:Object,data:Object,mode_1:String,source:String,disk:String},data:function(){return{displayModal:!1,displayModal2:!1,displaySideModal:!1,displayPrintModal:!1,opcr_data:[],status_val:-3,opcr_current:[],remarks:"",mode:"",form:(0,Ye.mN)({remarks:"",opcr_list_id:""}),can_submit:!1,submit_attempt:!1,show_all_not_clicked:!1,currentRatingType:0,modal_mode:"Review",print_link:""}},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.remarksTextarea.forEach(function(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"})})},updated:function(){var e=this;this.$nextTick(function(){e.$refs.remarksTextarea&&e.$refs.remarksTextarea.forEach(function(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"})})},components:{Pagination:He.A,Filtering:We.A,Modal:Je.A,Modal2:Ke.A,SideModal:Ke.A,PrintModal:Je.A},methods:{viewlink:function(e,t){this.getTotalAverage(),this.getAverageAll();var o="https://"+this.jasper_ip+"jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA,Sales%7Cpa1%3DSweden&_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports%2FOPCR_AIP&reportUnit=%2Freports%2FOPCR_AIP%2FOPCR_ForApproval_PA&standAlone=true&output=pdf"+("&opcr_id="+e+"&FFUNCCOD="+t+"&total=0&average=0");return this.report_link=o,o},viewPrintModal:function(e,t){this.print_link=this.viewlink(e,t),this.displayPrintModal=!0},hidePrintModal:function(){this.displayPrintModal=!1},updateMOVisVisible:function(e,t){this.opcr_data[t].mov_is_visible=!e},formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},deleteSectoral:function(e){1==confirm("WARNING!\nAre you sure you want to delete the Societal Goals?"+e)&&this.$inertia.delete("/Societal/"+e)},getPercent:function(e,t){var o=0;e.forEach(function(e){o+=parseFloat(e.accomplishment_qty)});var n=o/t*100;return n=this.format_number(n,2,!0)},viewModal:function(e,t,o){var n,r=this;return(n=ot().m(function n(){var a;return ot().w(function(n){for(;;)switch(n.n){case 0:return r.status_val=t,r.opcr_current=o,a="/review-approve/ratings/"+e+"/view/opcr/rating/submission",n.n=1,axios.get(a,{params:{type:r.mode_1}}).then(function(e){r.opcr_data=e.data}).catch(function(e){console.error(e)});case 1:r.displayModal=!0,r.currentRatingType=r.opcr_current.rating_type;case 2:return n.a(2)}},n)}),function(){var e=this,t=arguments;return new Promise(function(o,r){var a=n.apply(e,t);function l(e){rt(a,o,r,l,i,"next",e)}function i(e){rt(a,o,r,l,i,"throw",e)}l(void 0)})})()},hideModal:function(){this.displayModal=!1,this.displayModal2=!1,this.submit_attempt=!1},showModal2:function(e){this.hideModal(),this.displayModal2=!0,"v"===e?this.mode="Review":"a"===e?this.mode="Approve":"r"===e&&(this.mode="Return")},backTo:function(){this.hideModal(),this.viewModal(this.opcr_current.id,this.opcr_current.status_val,this.opcr_current)},confirmSubmission:function(){},reviewSubmit:function(){if(this.submit_attempt=!0,this.canSubmit()){var e="/review-approve/ratings/"+this.opcr_current.id+"/review";this.form.opcr_list_id=this.opcr_current.id;1==confirm("WARNING!\nAre you sure you want to review the OPCR?")&&this.form.get(e,this.form),this.hideModal(),this.clearForm()}else alert("⚠️ Review blocked: Some required items have not been scored. Please complete all scores before proceeding.")},approveSubmit:function(){var e="/review-approve/ratings/approve/"+this.opcr_current.id+"/opcr";this.form.opcr_list_id=this.opcr_current.id;1==confirm("WARNING!\nAre you sure you want to approve the IPCR?")&&this.form.post(e,this.form),this.hideModal(),this.clearForm()},returnSubmit:function(){var e="/review-approve/ratings/return/remarks/"+this.opcr_current.id+"/opcr";this.form.opcr_list_id=this.opcr_current.id;1==confirm("WARNING!\nAre you sure you want to return the selected OPCR?")&&this.form.post(e,this.form),this.hideModal(),this.clearForm()},clearForm:function(){this.form.remarks="",this.form.opcr_list_id=""},saveRating:function(e,t,o){e||(e="rating is null");var n="/review-approve/ratings/submit/opcr/"+o+"/"+t+"/"+e;axios.post(n).then(function(e){}).finally(function(e){}).catch(function(e){})},canSubmit:function(){var e,t=et(this.opcr_data);try{for(t.s();!(e=t.n()).done;){var o=e.value,n=[{score:o.q1,standard:"Yes"},{score:o.q2,standard:"Yes"},{score:o.q3,standard:"Yes"},{score:o.e1,standard:o.e1_standard},{score:o.e2,standard:o.e2_standard},{score:o.e3,standard:o.e3_standard},{score:o.t1,standard:o.t1_standard}];console.log(n);for(var r=0,a=n;r<a.length;r++){var l=a[r],i=l.score;if("Yes"===l.standard&&(null===i||""===i||isNaN(i)||Number(i)<1||Number(i)>5))return!1}}}catch(e){t.e(e)}finally{t.f()}return!0},autoResize:function(e){var t=e.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"},previewFile:function(e){var t=["jpg","jpeg","png","gif","bmp","webp"],o=["mp4","avi","mov","mkv","flv","wmv","mp3"];if(this.current_filepath=e.filepath,"public"===this.disk){var n,r;if(this.view_link=window.location.origin+"/storage/"+e.filepath,t.includes(null===(n=e.file_type)||void 0===n?void 0:n.toLowerCase())||o.includes(null===(r=e.file_type)||void 0===r?void 0:r.toLowerCase()))return void window.open(this.view_link,"_blank");this.isPreviewable(e.file_type)?(this.displaySideModal=!0,this.file_extension=e.file_type):alert("This file type cannot be previewed.")}else{var a,l;if(t.includes(null===(a=e.file_type)||void 0===a?void 0:a.toLowerCase())||o.includes(null===(l=e.file_type)||void 0===l?void 0:l.toLowerCase()))return void window.open("http://122.53.120.18:8067/images/".concat(e.filepath),"_blank");this.isPreviewable(e.file_type)?(this.view_link="http://122.53.120.18:8067/images/"+e.filepath,window.open(this.view_link,"_blank"),this.file_extension=e.file_type):alert("This file type cannot be previewed.")}},toggleAllMovVisibility:function(e){var t=Boolean(e);this.show_all_not_clicked=!this.show_all_not_clicked,this.opcr_data.forEach(function(e){e.mov_is_visible=t})},getRowspan:function(e,t){for(var o=1,n=parseFloat(t)+1;n<this.opcr_data.length&&this.opcr_data[n].mfo_desc===e;n++)o=parseFloat(o)+1;return o},getRowspan2:function(e,t){for(var o=1,n=parseFloat(t)+1;n<this.opcr_data.length&&this.opcr_data[n].office_accountable===e;n++)o=parseFloat(o)+1;return o},getRowspanIndicator:function(e,t){for(var o=1,n=parseFloat(t)+1;n<this.opcr_data.length&&this.opcr_data[n].success_indicator===e;n++)o=parseFloat(o)+1;return o},getTotalAverage:function(){for(var e=0,t=0;t<this.opcr_data.length;t++){var o=this.opcr_data[t].rating_e,n=this.opcr_data[t].rating_q,r=this.opcr_data[t].rating_t,a=parseFloat(o)+parseFloat(n)+parseFloat(r),l=0;parseFloat(o)>=1&&(l+=1),parseFloat(n)>=1&&(l+=1),parseFloat(r)>=1&&(l+=1),0==l&&(l=1),e+=a/l}return this.format_number_conv(e,2,!0)},computeRowAverage:function(e){var t=[e.rating_q,e.rating_e,e.rating_t].filter(function(e){return e>0});return 0===t.length?0:t.reduce(function(e,t){return e+t},0)/t.length},computeAverage:function(e){var t=[e.rating_q,e.rating_e,e.rating_t].filter(function(e){return e>0});return 0===t.length?0:(t.reduce(function(e,t){return e+t},0)/t.length).toFixed(2)},getAverageAll:function(){var e=this,t=this.opcr_data.map(function(t){return e.computeRowAverage(t)}).filter(function(e){return e>0});return 0===t.length?0:(t.reduce(function(e,t){return e+t},0)/t.length).toFixed(2)},computeAverageScore:function(e){if(!e||"object"!==Ze(e))return 0;var t=Object.values(e).filter(function(e){return"number"==typeof e&&e>0});if(0===t.length)return 0;var o=t.reduce(function(e,t){return e+t},0);return Number((o/t.length).toFixed(2))},computeAverageByType:function(e,t){if(!e||"object"!==Ze(e))return 0;var o={q:["q1","q2","q3"],e:["e1","e2","e3"]};if(!o[t])return 0;var n=o[t].map(function(t){return e[t]}).filter(function(e){return"number"==typeof e&&e>0});if(0===n.length)return 0;var r=n.reduce(function(e,t){return e+t},0);return Number((r/n.length).toFixed(2))},computeAverageQET:function(e,t,o){var n=[e,t,o].filter(function(e){return Number(e)>0});return 0===n.length?0:n.reduce(function(e,t){return e+Number(t)},0)/n.length},computeDPCRTotal:function(e){var t=this;if(!Array.isArray(e))return 0;var o=0;return e.forEach(function(e){var n=null==e?void 0:e.monthly_targets;if(console.log(e.month),n&&"object"===Ze(n)){var r=t.computeAverageByType(n,"q"),a=t.computeAverageByType(n,"e"),l=Number(null==n?void 0:n.t1)>0?Number(n.t1):0,i=t.computeAverageQET(r,a,l);console.log(i),i>0&&(o+=i)}}),Number(o.toFixed(2))},computeDPCRAverage:function(e){var t=this;if(!Array.isArray(e))return 0;var o=[];if(e.forEach(function(e){var n=null==e?void 0:e.monthly_targets;if(n&&"object"===Ze(n)){var r=t.computeAverageByType(n,"q"),a=t.computeAverageByType(n,"e"),l=Number(null==n?void 0:n.t1)>0?Number(n.t1):0,i=t.computeAverageQET(r,a,l);i>0&&o.push(i)}}),0===o.length)return 0;var n=o.reduce(function(e,t){return e+t},0);return Number((n/o.length).toFixed(2))},setRatingType:function(e,t){Xe.Inertia.patch("/review-approve/ratings/set/rating/type/".concat(e,"/").concat(t),{},{onSuccess:function(){console.log("Rating type ".concat(type," updated for ID ").concat(t))},onError:function(e){console.error(e)}})}}};var lt=o(5072),it=o.n(lt),ct=o(5571),dt={insert:"head",singleton:!1};it()(ct.A,dt);ct.A.locals;const st=(0,o(6262).A)(at,[["render",function(e,t,o,a,Ye,We){var He=(0,n.resolveComponent)("Head"),Je=(0,n.resolveComponent)("Link"),Ke=(0,n.resolveComponent)("pagination"),Xe=(0,n.resolveComponent)("Modal"),Ze=(0,n.resolveComponent)("SideModal"),et=(0,n.resolveComponent)("PrintModal");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(He,null,{default:(0,n.withCtx)(function(){return r(t[12]||(t[12]=[(0,n.createElementVNode)("title",null,"Home",-1)]))}),_:1}),(0,n.createElementVNode)("div",l,[t[81]||(t[81]=(0,n.createElementVNode)("h4",{class:"text-center"},"Review/Approve ",-1)),(0,n.createElementVNode)("div",i,[t[14]||(t[14]=(0,n.createElementVNode)("h3",null,"OPCR (Rating)",-1)),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",d,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.search=t}),type:"text",class:"form-control form-control-sm",placeholder:"Search..."},null,512),[[n.vModelText,e.search]])]),(0,n.createElementVNode)("div",s,[(0,n.createVNode)(Je,{class:"btn btn-primary btn-sm",href:"/Societal/create"},{default:(0,n.withCtx)(function(){return r(t[13]||(t[13]=[(0,n.createTextVNode)("Add Societal Goals",-1)]))}),_:1})])])]),t[82]||(t[82]=(0,n.createElementVNode)("div",{class:"masonry-sizer col-md-6"},null,-1)),(0,n.createElementVNode)("div",u,[t[17]||(t[17]=(0,n.createElementVNode)("div",{class:"row gap-20"},null,-1)),(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("table",f,[t[16]||(t[16]=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,n.createElementVNode)("th",null,"Office"),(0,n.createElementVNode)("th",null,"Semester"),(0,n.createElementVNode)("th",null,"Period Covered"),(0,n.createElementVNode)("th",null,"Status"),(0,n.createElementVNode)("th",null,"Action")])],-1)),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(o.data.data,function(o){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",null,[(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(o.office.FFUNCTION),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(o.semester),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(o.opcr_date),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.getStatus(o.rating_status)),1),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("div",h,[t[15]||(t[15]=(0,n.createElementVNode)("button",{class:"btn btn-secondary btn-sm action-btn",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-three-dots",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"})])],-1)),(0,n.createElementVNode)("ul",v,[(0,n.createElementVNode)("li",null,[(0,n.createElementVNode)("button",{class:"dropdown-item",onClick:function(e){return We.viewModal(o.id,o.rating_status,o)}},"View",8,g)]),(0,n.createElementVNode)("li",null,[(0,n.createElementVNode)("button",{class:"dropdown-item",onClick:function(e){return We.viewPrintModal(o.id,o.office.FFUNCCOD)}},"Print",8,y)])])])])])}),256))])])]),(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("div",N,[(0,n.createVNode)(Ke,(0,n.mergeProps)({next:o.data.next_page_url,prev:o.data.prev_page_url},"ppdo_approval"===o.source?{source:o.source}:{}),null,16,["next","prev"])])]),(0,n.createElementVNode)("div",E,[(0,n.createElementVNode)("div",V,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(o.data.from)+" to "+(0,n.toDisplayString)(o.data.to)+" of "+(0,n.toDisplayString)(o.data.total)+" entries ",1)])])])]),Ye.displayModal?((0,n.openBlock)(),(0,n.createBlock)(Xe,{key:0,onCloseModalEvent:We.hideModal,title:"".concat(o.mode_1)},{default:(0,n.withCtx)(function(){return[(0,n.createElementVNode)("div",w,[(0,n.createElementVNode)("div",null,[t[18]||(t[18]=(0,n.createElementVNode)("b",null,"OFFICE: ",-1)),(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(Ye.opcr_current.office.FFUNCTION),1)]),(0,n.createElementVNode)("div",null,[t[19]||(t[19]=(0,n.createElementVNode)("b",null,"SEMESTER: ",-1)),(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(Ye.opcr_current.semester),1)]),(0,n.createElementVNode)("div",null,[t[20]||(t[20]=(0,n.createElementVNode)("b",null,"PERIOD COVERED: ",-1)),(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(Ye.opcr_current.opcr_date),1)]),(0,n.createElementVNode)("div",null,[t[21]||(t[21]=(0,n.createElementVNode)("b",null,"STATUS: ",-1)),(0,n.createElementVNode)("u",null,(0,n.toDisplayString)(e.getStatus(Ye.opcr_current.rating_status)),1)])]),"Review"===o.mode_1?((0,n.openBlock)(),(0,n.createElementBlock)("div",_,[Ye.show_all_not_clicked?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:t[2]||(t[2]=function(e){return We.toggleAllMovVisibility(!0)}),class:"btn btn-link p-0"}," Expand all ")):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:t[1]||(t[1]=function(e){return We.toggleAllMovVisibility(!1)}),class:"btn btn-link p-0"}," Collapse All ")),(0,n.createElementVNode)("div",k,[(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("table",A,[t[50]||(t[50]=(0,n.createElementVNode)("thead",{class:"sticky-header"},[(0,n.createElementVNode)("tr",{class:"text-white",style:{"background-color":"#026673"}},[(0,n.createElementVNode)("th",{rowspan:"2"},[(0,n.createElementVNode)("h5",null,"MFO")]),(0,n.createElementVNode)("th",{rowspan:"2"},[(0,n.createElementVNode)("h5",null,"PAPS")]),(0,n.createElementVNode)("th",{rowspan:"2"},[(0,n.createElementVNode)("h5",null,"Accomplishments")]),(0,n.createElementVNode)("th",{colspan:"7",rowspan:"1",style:{"text-align":"center"}},[(0,n.createElementVNode)("h5",null,"Rating")]),(0,n.createElementVNode)("th",{rowspan:"2"},[(0,n.createElementVNode)("h5",null,"Remarks")]),(0,n.createElementVNode)("th",{rowspan:"2"},[(0,n.createElementVNode)("h5",null,"MOVs")])]),(0,n.createElementVNode)("tr",{class:"text-white",style:{"background-color":"#026673"}},[(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"Q1")]),(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"Q2")]),(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"Q3")]),(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"E1")]),(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"E2")]),(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"E3")]),(0,n.createElementVNode)("th",null,[(0,n.createElementVNode)("h5",null,"T1")])])],-1)),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(Ye.opcr_data,function(o,a){return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:a},[(0,n.createElementVNode)("tr",{style:(0,n.normalizeStyle)({backgroundColor:Ye.opcr_data[a].mov_is_visible?"#b8f5fc":"#fff5d9","--bs-table-accent-bg":Ye.opcr_data[a].mov_is_visible?"#b8f5fc":"#fff5d9",fontWeight:Ye.opcr_data[a].mov_is_visible?"bold":"normal"})},[(0,n.createElementVNode)("td",S,(0,n.toDisplayString)(o.mfo_desc),1),(0,n.createElementVNode)("td",B,(0,n.toDisplayString)(o.paps_desc),1),(0,n.createElementVNode)("td",C,[(0,n.createTextVNode)((0,n.toDisplayString)(o.accomplishments)+" ",1),t[23]||(t[23]=(0,n.createElementVNode)("hr",null,null,-1)),(0,n.createElementVNode)("div",null,[t[22]||(t[22]=(0,n.createElementVNode)("b",null,"DPCR Score: ",-1)),(0,n.createTextVNode)((0,n.toDisplayString)(We.computeAverageScore(o.monthly_targets)),1)])]),(0,n.createElementVNode)("td",M,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(o.q1_standard),1)]),(0,n.createElementVNode)("td",F,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(o.q2_standard),1)]),(0,n.createElementVNode)("td",R,[(0,n.createElementVNode)("div",null,(0,n.toDisplayString)(o.q3_standard),1)]),t[26]||(t[26]=(0,n.createElementVNode)("td",{style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},[(0,n.createElementVNode)("div",null,"Standard Response Time")],-1)),t[27]||(t[27]=(0,n.createElementVNode)("td",{style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},[(0,n.createElementVNode)("div",null,"Quantity Based")],-1)),t[28]||(t[28]=(0,n.createElementVNode)("td",{style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},[(0,n.createElementVNode)("div",null,"Optimum use of resources")],-1)),t[29]||(t[29]=(0,n.createElementVNode)("td",{style:{width:"9% !important","white-space":"normal","word-wrap":"break-word"}},[(0,n.createElementVNode)("div",null,"Timeliness (Deadline)")],-1)),(0,n.createElementVNode)("td",T,[(0,n.withDirectives)((0,n.createElementVNode)("textarea",{class:"form-control","onUpdate:modelValue":function(e){return Ye.opcr_data[a].remarks=e},onChange:function(e){return We.saveRating(Ye.opcr_data[a].remarks,Ye.opcr_data[a].opcr_rating_id,"remarks")}},null,40,D),[[n.vModelText,Ye.opcr_data[a].remarks]])]),(0,n.createElementVNode)("td",P,[Ye.opcr_data[a].mov_is_visible?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:function(e){return We.updateMOVisVisible(Ye.opcr_data[a].mov_is_visible,a)},class:"p-1 rounded bg-transparent hover:bg-blue-100 border-0",title:"View MOVs"},r(t[25]||(t[25]=[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-eye-slash-fill",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7 7 0 0 0 2.79-.588M5.21 3.088A7 7 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474z"}),(0,n.createElementVNode)("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12z"})],-1)])),8,O)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:function(e){return We.updateMOVisVisible(Ye.opcr_data[a].mov_is_visible,a)},class:"p-1 rounded bg-transparent hover:bg-blue-100 border-0",title:"View MOVs"},r(t[24]||(t[24]=[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"blue",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),(0,n.createElementVNode)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1)])),8,I))])],4),(0,n.createElementVNode)("tr",{style:(0,n.normalizeStyle)({backgroundColor:Ye.opcr_data[a].mov_is_visible?"#b8f5fc":"#fff5d9","--bs-table-accent-bg":Ye.opcr_data[a].mov_is_visible?"#b8f5fc":"#fff5d9",fontWeight:Ye.opcr_data[a].mov_is_visible?"bold":"normal"})},[(0,n.createElementVNode)("td",j,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].q1=e},type:"number",class:"form-select",style:{width:"4.2em","text-align":"center"},onChange:function(e){return We.saveRating(Ye.opcr_data[a].q1,Ye.opcr_data[a].opcr_rating_id,"q1")}},r(t[30]||(t[30]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),40,q),[[n.vModelSelect,Ye.opcr_data[a].q1]]),1!=Ye.submit_attempt||o.q1?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",U," Rating for this field is required to proceed with submission. "))]),(0,n.createElementVNode)("td",z,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].q2=e},type:"number",class:"form-select",style:{width:"4.2em","text-align":"center"},onChange:function(e){return We.saveRating(Ye.opcr_data[a].q2,Ye.opcr_data[a].opcr_rating_id,"q2")}},r(t[31]||(t[31]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),40,G),[[n.vModelSelect,Ye.opcr_data[a].q2]]),1!=Ye.submit_attempt||o.q2?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",L," Rating for this field is required to proceed with submission. "))]),(0,n.createElementVNode)("td",$,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].q3=e},type:"number",class:"form-select",style:{width:"4.2em","text-align":"center"},onChange:function(e){return We.saveRating(Ye.opcr_data[a].q3,Ye.opcr_data[a].opcr_rating_id,"q3")}},r(t[32]||(t[32]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),40,Q),[[n.vModelSelect,Ye.opcr_data[a].q3]]),1!=Ye.submit_attempt||o.q3?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Y," Rating for this field is required to proceed with submission. "))]),(0,n.createElementVNode)("td",W,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].e1=e},type:"number",class:"form-select",style:(0,n.normalizeStyle)([{width:"4.2em","text-align":"center"},"No"===o.e1_standard?"background-color: #ABB3BFFF; color: #212427FF; cursor: not-allowed;":""]),onChange:function(e){return We.saveRating(Ye.opcr_data[a].e1,Ye.opcr_data[a].opcr_rating_id,"e1")},disabled:"No"===o.e1_standard},r(t[33]||(t[33]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),44,H),[[n.vModelSelect,Ye.opcr_data[a].e1]]),1!=Ye.submit_attempt||"Yes"!==o.e1_standard||o.e1?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",J," Rating for this field is required to proceed with submission. "))]),(0,n.createElementVNode)("td",K,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].e2=e},type:"number",class:"form-select",style:(0,n.normalizeStyle)([{width:"4.2em","text-align":"center"},"No"===o.e2_standard?"background-color: #ABB3BFFF; color: #212427FF; cursor: not-allowed;":""]),onChange:function(e){return We.saveRating(Ye.opcr_data[a].e2,Ye.opcr_data[a].opcr_rating_id,"e2")},disabled:"No"===o.e2_standard},r(t[34]||(t[34]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),44,X),[[n.vModelSelect,Ye.opcr_data[a].e2]]),1!=Ye.submit_attempt||"Yes"!==o.e2_standard||o.e2?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",Z," Rating for this field is required to proceed with submission. "))]),(0,n.createElementVNode)("td",ee,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].e3=e},class:"form-select",style:(0,n.normalizeStyle)([{width:"4.2em","text-align":"center"},"No"===o.e3_standard?"background-color: #ABB3BFFF; color: #212427FF; cursor: not-allowed;":""]),type:"number",onChange:function(e){return We.saveRating(Ye.opcr_data[a].e3,Ye.opcr_data[a].opcr_rating_id,"e3")},disabled:"No"===o.e3_standard},r(t[35]||(t[35]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),44,te),[[n.vModelSelect,Ye.opcr_data[a].e3]]),1!=Ye.submit_attempt||"Yes"!==o.e3_standard||o.e3?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",oe," Rating for this field is required to proceed with submission. "))]),(0,n.createElementVNode)("td",ne,[(0,n.withDirectives)((0,n.createElementVNode)("select",{"onUpdate:modelValue":function(e){return Ye.opcr_data[a].t1=e},type:"number",class:"form-select",style:(0,n.normalizeStyle)([{width:"4.2em","text-align":"center"},"No"===o.t1_standard||null===o.t1_standard||void 0===o.t1_standard||Number.isNaN(o.t1_standard)?"background-color: #ABB3BFFF; color: #212427FF; cursor: not-allowed;":""]),onChange:function(e){return We.saveRating(Ye.opcr_data[a].t1,Ye.opcr_data[a].opcr_rating_id,"t1")},disabled:"No"===o.t1_standard||null===o.t1_standard||void 0===o.t1_standard||Number.isNaN(o.t1_standard)},r(t[36]||(t[36]=[(0,n.createElementVNode)("option",null,"1",-1),(0,n.createElementVNode)("option",null,"2",-1),(0,n.createElementVNode)("option",null,"3",-1),(0,n.createElementVNode)("option",null,"4",-1),(0,n.createElementVNode)("option",null,"5",-1)])),44,re),[[n.vModelSelect,Ye.opcr_data[a].t1]]),1!=Ye.submit_attempt||"Yes"!==o.t1_standard||o.t1?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",ae," Rating for this field is required to proceed with submission. "))])],4),Ye.opcr_data[a].mov_is_visible&&parseFloat(Ye.opcr_data[a].count_movs)>0?((0,n.openBlock)(),(0,n.createElementBlock)("tr",le,[t[37]||(t[37]=(0,n.createElementVNode)("th",{class:"no-stripe-bg"},null,-1)),(0,n.createElementVNode)("th",ie,[parseFloat(Ye.opcr_data[a].count_movs)>1?((0,n.openBlock)(),(0,n.createElementBlock)("span",ce,"Files")):((0,n.openBlock)(),(0,n.createElementBlock)("span",de,"File"))]),t[38]||(t[38]=(0,n.createElementVNode)("th",{class:"bg-secondary text-white"}," Download ",-1)),t[39]||(t[39]=(0,n.createElementVNode)("th",{class:"bg-secondary text-white"}," View ",-1)),t[40]||(t[40]=(0,n.createElementVNode)("th",{colspan:"7",class:"bg-secondary text-white"},null,-1)),t[41]||(t[41]=(0,n.createElementVNode)("th",null,null,-1))])):(0,n.createCommentVNode)("",!0),Ye.opcr_data[a].mov_is_visible&&parseFloat(Ye.opcr_data[a].count_movs)>0?((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,{key:1},(0,n.renderList)(o.movs,function(o){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",null,[t[46]||(t[46]=(0,n.createElementVNode)("td",{class:"no-stripe-bg"},null,-1)),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("img",{src:e.getPreUploadFileIcon(o.filename.split(".").pop()),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,se),(0,n.createTextVNode)("  "+(0,n.toDisplayString)(o.filename),1)]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("a",{href:"/movs/download/".concat(o.id),class:"inline-flex items-center",title:"Download",target:"_blank"},r(t[42]||(t[42]=[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"green",class:"bi bi-cloud-arrow-down-fill",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2m2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708"})],-1)])),8,ue),t[43]||(t[43]=(0,n.createTextVNode)(" ",-1))]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("button",{onClick:function(e){return We.previewFile(o)},class:"p-1 rounded bg-transparent hover:bg-blue-100 border-0",title:"Preview"},r(t[44]||(t[44]=[(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"blue",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,n.createElementVNode)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),(0,n.createElementVNode)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1)])),8,me),t[45]||(t[45]=(0,n.createTextVNode)("  ",-1))]),t[47]||(t[47]=(0,n.createElementVNode)("td",{colspan:"7"},null,-1)),t[48]||(t[48]=(0,n.createElementVNode)("td",null,null,-1))])}),256)):(0,n.createCommentVNode)("",!0),Ye.opcr_data[a].mov_is_visible&&parseFloat(Ye.opcr_data[a].count_movs)<1?((0,n.openBlock)(),(0,n.createElementBlock)("tr",pe,r(t[49]||(t[49]=[(0,n.createElementVNode)("td",null,null,-1),(0,n.createElementVNode)("td",{colspan:"11"},[(0,n.createTextVNode)("         "),(0,n.createElementVNode)("div",{class:"d-inline-block px-3 py-2 bg-danger bg-opacity-10 border border-danger rounded"},[(0,n.createElementVNode)("span",{class:"text-danger fw-bold"},"No MOVs uploaded!!!")])],-1)])))):(0,n.createCommentVNode)("",!0)],64)}),128))])])])])])):(0,n.createCommentVNode)("",!0),"Approve"===o.mode_1?((0,n.openBlock)(),(0,n.createElementBlock)("div",fe,[(0,n.createElementVNode)("div",he,[(0,n.createElementVNode)("div",ve,[(0,n.createElementVNode)("table",ge,[(0,n.createElementVNode)("thead",ye,[(0,n.createElementVNode)("tr",be,[t[53]||(t[53]=(0,n.createElementVNode)("th",{rowspan:"2"},"Major Final Output",-1)),t[54]||(t[54]=(0,n.createElementVNode)("th",{rowspan:"2"},"Success Indicators (Targets + Measures)",-1)),t[55]||(t[55]=(0,n.createElementVNode)("th",{rowspan:"2"},"Alloted Budget",-1)),t[56]||(t[56]=(0,n.createElementVNode)("th",{rowspan:"2"},"Accountable Division",-1)),t[57]||(t[57]=(0,n.createElementVNode)("th",{rowspan:"2"},"Actual Accomplishments",-1)),(0,n.createElementVNode)("th",Ne,[(0,n.createElementVNode)("input",{type:"radio",name:"rating",checked:"0"===Ye.currentRatingType,onChange:t[3]||(t[3]=function(e){return We.setRatingType("ppdo",Ye.opcr_current.id)})},null,40,Ee),t[51]||(t[51]=(0,n.createTextVNode)(" Rating (PPDO Score) ",-1))]),(0,n.createElementVNode)("th",Ve,[(0,n.createElementVNode)("input",{type:"radio",name:"rating",checked:"1"===Ye.currentRatingType,onChange:t[4]||(t[4]=function(e){return We.setRatingType("dpcr",Ye.opcr_current.id)})},null,40,we),t[52]||(t[52]=(0,n.createTextVNode)(" Rating (DPCR Score) ",-1))]),t[58]||(t[58]=(0,n.createElementVNode)("th",{rowspan:"2"},"Remarks",-1)),t[59]||(t[59]=(0,n.createElementVNode)("th",{rowspan:"2"},"MOV",-1))]),t[60]||(t[60]=(0,n.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,n.createElementVNode)("th",null,"Quality"),(0,n.createElementVNode)("th",null,"Efficiency"),(0,n.createElementVNode)("th",null,"Timeliness"),(0,n.createElementVNode)("th",null,"Average"),(0,n.createElementVNode)("th",null,"Quality"),(0,n.createElementVNode)("th",null,"Efficiency"),(0,n.createElementVNode)("th",null,"Timeliness"),(0,n.createElementVNode)("th",null,"Average")],-1))]),(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(Ye.opcr_data,function(o,r){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:r},[0===r||o.mfo_desc!==Ye.opcr_data[r-1].mfo_desc?((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:0,rowspan:We.getRowspan(o.mfo_desc,r),style:{"vertical-align":"middle"}},(0,n.toDisplayString)(o.mfo_desc),9,_e)):(0,n.createCommentVNode)("",!0),0===r||o.success_indicator!==Ye.opcr_data[r-1].success_indicator?((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:1,rowspan:We.getRowspanIndicator(o.success_indicator,r),style:{"vertical-align":"middle"}},(0,n.toDisplayString)(o.target_success_indicator),9,ke)):(0,n.createCommentVNode)("",!0),t[61]||(t[61]=(0,n.createElementVNode)("td",null,null,-1)),0===r||o.office_accountable!==Ye.opcr_data[r-1].office_accountable?((0,n.openBlock)(),(0,n.createElementBlock)("td",{key:2,rowspan:We.getRowspan2(o.office_accountable,r),style:{"vertical-align":"middle"}},(0,n.toDisplayString)(o.office_accountable),9,xe)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ye.opcr_data[r].accomplishments),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ye.opcr_data[r].rating_q),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ye.opcr_data[r].rating_e),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ye.opcr_data[r].rating_t),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.computeAverage(Ye.opcr_data[r])),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.computeAverageByType(Ye.opcr_data[r].monthly_targets,"q")),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.computeAverageByType(Ye.opcr_data[r].monthly_targets,"e")),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(Ye.opcr_data[r].monthly_targets.t1),1),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(e.format_number_conv(We.computeAverageQET(We.computeAverageByType(Ye.opcr_data[r].monthly_targets,"q"),We.computeAverageByType(Ye.opcr_data[r].monthly_targets,"e"),Ye.opcr_data[r].monthly_targets.t1),2,!0)),1),(0,n.createElementVNode)("td",null,[(0,n.withDirectives)((0,n.createElementVNode)("textarea",{"onUpdate:modelValue":function(e){return Ye.opcr_data[r].remarks=e},class:"form-control",style:{height:"inherit"}},null,8,Ae),[[n.vModelText,Ye.opcr_data[r].remarks]])]),(0,n.createElementVNode)("td",null,[(0,n.createElementVNode)("button",{type:"button",class:"btn btn-primary text-white",onClick:function(t){return e.showModalMOV(Ye.opcr_data[r].id)}},"Upload MOVs",8,Se)])])}),128)),(0,n.createElementVNode)("tr",null,[t[62]||(t[62]=(0,n.createElementVNode)("td",{colspan:"5"},null,-1)),t[63]||(t[63]=(0,n.createElementVNode)("td",{colspan:"3"},"TOTAL RATING (PPDO)",-1)),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.getTotalAverage()),1),t[64]||(t[64]=(0,n.createElementVNode)("td",{colspan:"3"},"TOTAL RATING (DPCR)",-1)),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.computeDPCRTotal(Ye.opcr_data)),1),t[65]||(t[65]=(0,n.createElementVNode)("td",null,null,-1)),t[66]||(t[66]=(0,n.createElementVNode)("td",null,null,-1))]),(0,n.createElementVNode)("tr",null,[t[67]||(t[67]=(0,n.createElementVNode)("td",{colspan:"5"},null,-1)),t[68]||(t[68]=(0,n.createElementVNode)("td",{colspan:"3"},"FINAL AVERAGE RATING (PPDO)",-1)),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.getAverageAll()),1),t[69]||(t[69]=(0,n.createElementVNode)("td",{colspan:"3"},"FINAL AVERAGE RATING (DPCR)",-1)),(0,n.createElementVNode)("td",null,(0,n.toDisplayString)(We.computeDPCRAverage(Ye.opcr_data)),1),t[70]||(t[70]=(0,n.createElementVNode)("td",null,null,-1)),t[71]||(t[71]=(0,n.createElementVNode)("td",null,null,-1))])])])])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",Be,[t[72]||(t[72]=(0,n.createElementVNode)("label",null,"REMARKS: ",-1)),t[73]||(t[73]=(0,n.createTextVNode)("    ",-1)),(0,n.withDirectives)((0,n.createElementVNode)("input",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(e){return Ye.form.remarks=e}),type:"text"},null,512),[[n.vModelText,Ye.form.remarks]]),t[74]||(t[74]=(0,n.createElementVNode)("br",null,null,-1))]),t[77]||(t[77]=(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("hr")],-1)),(0,n.createElementVNode)("div",Ce,[0==Ye.opcr_current.rating_status?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:t[6]||(t[6]=function(e){return We.reviewSubmit()}),class:"btn btn-primary text-white"},"Review")):(0,n.createCommentVNode)("",!0),t[75]||(t[75]=(0,n.createTextVNode)("  ",-1)),1==Ye.opcr_current.rating_status?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:t[7]||(t[7]=function(e){return We.approveSubmit()}),class:"btn btn-success text-white"},"Approve")):(0,n.createCommentVNode)("",!0),t[76]||(t[76]=(0,n.createTextVNode)("  ",-1)),(0,n.createElementVNode)("button",{onClick:t[8]||(t[8]=function(e){return We.returnSubmit()}),class:"btn btn-danger text-white"},"Return")])]}),_:1},8,["onCloseModalEvent","title"])):(0,n.createCommentVNode)("",!0),Ye.displaySideModal?((0,n.openBlock)(),(0,n.createBlock)(Ze,{key:1,onCloseModalEvent:t[11]||(t[11]=function(e){return Ye.displaySideModal=!1}),style:{"z-index":"9999"}},{default:(0,n.withCtx)(function(){return[t[80]||(t[80]=(0,n.createElementVNode)("h2",{class:"text-lg font-semibold"},"Preview SideModal",-1)),"public"===o.disk?((0,n.openBlock)(),(0,n.createElementBlock)("div",Me,["pdf"===e.file_extension?((0,n.openBlock)(),(0,n.createElementBlock)("div",Fe,[(0,n.createElementVNode)("iframe",{src:e.view_link,width:"100%",height:"500px"},null,8,Re)])):e.imageTypes.includes(e.file_extension)?((0,n.openBlock)(),(0,n.createElementBlock)("div",Te,[t[78]||(t[78]=(0,n.createTextVNode)(" Image siya ",-1)),(0,n.createElementVNode)("img",{src:e.view_link,alt:"preview",class:"max-w-full max-h-[500px] cursor-pointer",onClick:t[9]||(t[9]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},null,8,De)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Pe,[(0,n.createElementVNode)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(e.view_link),"&embedded=true"),width:"100%",height:"600"},null,8,Ie)]))])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Oe,["pdf"===e.file_extension?((0,n.openBlock)(),(0,n.createElementBlock)("div",je,[(0,n.createElementVNode)("iframe",{src:e.view_link,width:"100%",height:"500px"},null,8,qe)])):e.imageTypes.includes(e.file_extension.toLowerCase())?((0,n.openBlock)(),(0,n.createElementBlock)("div",Ue,[t[79]||(t[79]=(0,n.createTextVNode)(" Image siya ",-1)),(0,n.createElementVNode)("img",{src:e.view_link,alt:"preview",class:"max-w-full max-h-[500px] cursor-pointer",onClick:t[10]||(t[10]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},null,8,ze)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Ge,[(0,n.createElementVNode)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(e.view_link),"&embedded=true"),width:"100%",height:"600"},null,8,Le)]))]))]}),_:1})):(0,n.createCommentVNode)("",!0),Ye.displayPrintModal?((0,n.openBlock)(),(0,n.createBlock)(et,{key:2,onCloseModalEvent:We.hidePrintModal,title:"PRINTING"},{default:(0,n.withCtx)(function(){return[(0,n.createElementVNode)("div",$e,[(0,n.createElementVNode)("iframe",{src:Ye.print_link,style:{width:"100%",height:"400px"}},null,8,Qe)])]}),_:1},8,["onCloseModalEvent"])):(0,n.createCommentVNode)("",!0)])],64)}],["__scopeId","data-v-21f9b529"]]),ut=st}}]);