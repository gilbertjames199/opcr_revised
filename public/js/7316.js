/*! For license information please see 7316.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7316],{648(e,t,n){n.d(t,{A:()=>l});var o=n(6314),r=n.n(o)()(function(e){return e[1]});r.push([e.id,"#sidebar-wrapper{height:100%;margin-right:-250px;margin-top:-9px;overflow-y:auto;position:fixed;right:250px;transition:all .5s ease;width:auto;z-index:1000}",""]);const l=r},1256(e,t,n){n.d(t,{A:()=>l});var o=n(6314),r=n.n(o)()(function(e){return e[1]});r.push([e.id,".modal[data-v-8ec2bb50]{display:block}",""]);const l=r},1596(e,t,n){n.d(t,{A:()=>b});var o=n(9726);function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a={class:"permissions-modal"},i={class:"modal",tabindex:"-1",role:"dialog"},c={class:"modal-dialog modal-xl"},s={class:"d-flex justify-content-center"},d={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},u={class:"modal-header",style:{"background-color":"#030014"}},m={class:"modal-body"};const p={props:{},data:function(){return{value:null,options:["Batman","Robin","Joker"]}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var f=n(5072),h=n.n(f),g=n(1256),v={insert:"head",singleton:!1};h()(g.A,v);g.A.locals;const y=(0,n(6262).A)(p,[["render",function(e,t,n,l,p,f){return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",u,[t[2]||(t[2]=(0,o.createElementVNode)("h4",{class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},[(0,o.createElementVNode)("b",null,"PRINT PREVIEW")],-1)),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return f.closeModal&&f.closeModal.apply(f,arguments)})},r(t[1]||(t[1]=[(0,o.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)])))]),(0,o.createElementVNode)("div",m,[(0,o.renderSlot)(e.$slots,"default",{},void 0,!0)]),t[3]||(t[3]=(0,o.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1))])])])])])}],["__scopeId","data-v-8ec2bb50"]]),b=y},4239(e,t,n){n.d(t,{A:()=>l});var o=n(6314),r=n.n(o)()(function(e){return e[1]});r.push([e.id,".custom-modal[data-v-165078a6]{max-width:80%!important;width:80%!important}.modal[data-v-165078a6]{display:block}",""]);const l=r},4399(e,t,n){n.d(t,{A:()=>d});var o=n(9726);function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a={class:"pagination"},i={class:"page-item"},c={class:"page-item"};const s={props:{prev:String,next:String}};const d=(0,n(6262).A)(s,[["render",function(e,t,n,l,s,d){var u=(0,o.resolveComponent)("Link");return(0,o.openBlock)(),(0,o.createElementBlock)("div",null,[(0,o.createElementVNode)("ul",a,[(0,o.createElementVNode)("li",i,[n.prev?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,class:"page-link",href:n.prev,"preserve-scroll":""},{default:(0,o.withCtx)(function(){return r(t[0]||(t[0]=[(0,o.createTextVNode)("Previous",-1)]))}),_:1},8,["href"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:1,class:(0,o.normalizeClass)(["page-link",{"text-muted":!n.prev}])},"Previous",2))]),(0,o.createElementVNode)("li",c,[n.next?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,class:"page-link",href:n.next,"preserve-scroll":""},{default:(0,o.withCtx)(function(){return r(t[1]||(t[1]=[(0,o.createTextVNode)("Next",-1)]))}),_:1},8,["href"])):((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:1,class:(0,o.normalizeClass)(["page-link",{"text-muted":!n.next}])},"Next",2))])])])}]])},4855(e,t,n){n.d(t,{A:()=>E});var o=n(9726);function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a={class:"permissions-modal"},i={class:"modal",tabindex:"-1",role:"dialog"},c={class:"modal-dialog custom-modal"},s={class:"d-flex justify-content-center"},d={class:"modal-content",style:{width:"100% !important",height:"40% !important"}},u={class:"modal-header",style:{"background-color":"#030014"}},m={class:"modal-title",style:{color:"#ffe819","text-align":"center !important"}},p={class:"modal-body"};const f={props:{title:String},data:function(){return{value:null}},mounted:function(){},methods:{logU_ID:function(){},closeModal:function(){this.$emit("close-modal-event")},saveChanges:function(){this.closeModal()},loadPermissions:function(){}}};var h=n(5072),g=n.n(h),v=n(4239),y={insert:"head",singleton:!1};g()(v.A,y);v.A.locals;const b=(0,n(6262).A)(f,[["render",function(e,t,n,l,f,h){return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("h4",m,[(0,o.createElementVNode)("b",null,(0,o.toDisplayString)(n.title),1)]),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-danger",style:{"font-weight":"bold",color:"white"},"data-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=function(){return h.closeModal&&h.closeModal.apply(h,arguments)})},r(t[1]||(t[1]=[(0,o.createElementVNode)("span",{"aria-hidden":"true"},"×",-1)])))]),(0,o.createElementVNode)("div",p,[(0,o.renderSlot)(e.$slots,"default",{},void 0,!0)]),t[2]||(t[2]=(0,o.createElementVNode)("div",{class:"modal-footer",style:{"background-color":"#090137"}},null,-1))])])])])])}],["__scopeId","data-v-165078a6"]]),E=b},7191(e,t,n){n.d(t,{A:()=>l});var o=n(6314),r=n.n(o)()(function(e){return e[1]});r.push([e.id,".row-centered{text-align:center}.col-centered{display:inline-block;float:none;margin-right:-4px;text-align:left}.pos{position:top;top:240px}",""]);const l=r},7316(e,t,n){n.r(t),n.d(t,{default:()=>Ue});var o=n(9726);function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var a={class:"row gap-10 masonry pos-r"},i={class:"peers fxw-nw jc-sb ai-c"},c={class:"peers"},s={class:"peer mR-10"},d={class:"masonry-sizer col-md-6"},u={class:"col-12"},m={class:"bgc-white p-20 bd"},p={class:"table-responsive"},f={class:"table table-hover table-bordered border-dark"},h=["rowspan"],g=["rowspan"],v=["rowspan"],y=["onUpdate:modelValue"],b=["onUpdate:modelValue"],E=["onUpdate:modelValue"],N=["onUpdate:modelValue"],V=["value"],w=["onUpdate:modelValue"],_=["onClick"],k={class:"table-responsive"},x={class:"table table-hover table-bordered border-dark"},A={class:"text-center font-weight-bold"},C={key:0},F={key:1},S={class:"row justify-content-center"},M={class:"col-md-12"},B=["disabled"],I=["disabled"],T={key:0},O=["disabled"],R={key:1},D=["disabled"],P={key:2},U=["disabled"],j={class:"justify-content-center"},L={class:"masonry-item w-100"},z={class:"bgc-white p-20 bd"},G={class:"table-responsive"},q=["src"],$={class:"peers mb-12"},W={class:"col-md-5"},K={key:0},H={key:0,class:"text-danger mt-2"},J={key:1,class:"text-danger mt-2"},Y=["disabled"],Z=["disabled"],Q={key:0},X=["src"],ee={class:"col-md-7"},te={class:"peers"},ne=["disabled"],oe={name:"tabel",class:"table table-hover table-striped"},re=["checked"],le=["value","onChange"],ae=["src"],ie=["onClick"],ce=["href"],se=["onClick"],de={key:0},ue={key:0},me=["src"],pe={key:1},fe=["src"],he={key:2},ge=["src"],ve={key:1},ye={key:0},be=["src"],Ee={key:1},Ne=["src"],Ve={key:2},we=["src"];var _e=n(9234),ke=n(7694),xe=n(4399),Ae=n(1596),Ce=n(4855);function Fe(){var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,o,r,l){var c=o&&o.prototype instanceof i?o:i,s=Object.create(c.prototype);return Se(s,"_invoke",function(n,o,r){var l,i,c,s=0,d=r||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return l=t,i=0,c=e,m.n=n,a}};function p(n,o){for(i=n,c=o,t=0;!u&&s&&!r&&t<d.length;t++){var r,l=d[t],p=m.p,f=l[2];n>3?(r=f===o)&&(c=l[(i=l[4])?5:(i=3,3)],l[4]=l[5]=e):l[0]<=p&&((r=n<2&&p<l[1])?(i=0,m.v=o,m.n=l[1]):p<f&&(r=n<3||l[0]>o||o>f)&&(l[4]=n,l[5]=o,m.n=f,i=0))}if(r||n>1)return a;throw u=!0,o}return function(r,d,f){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,f),i=d,c=f;(t=i<2?e:c)||!u;){l||(i?i<3?(i>1&&(m.n=-1),p(i,c)):m.n=c:m.v=c);try{if(s=2,l){if(i||(r="next"),t=l[r]){if(!(t=t.call(l,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=l.return)&&t.call(l),i<2&&(c=TypeError("The iterator does not provide a '"+r+"' method"),i=1);l=e}else if((t=(u=m.n<0)?c:n.call(o,m))!==a)break}catch(t){l=e,i=1,c=t}finally{s=1}}return{value:t,done:u}}}(n,r,l),!0),s}var a={};function i(){}function c(){}function s(){}t=Object.getPrototypeOf;var d=[][o]?t(t([][o]())):(Se(t={},o,function(){return this}),t),u=s.prototype=i.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Se(e,r,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=s,Se(u,"constructor",s),Se(s,"constructor",c),c.displayName="GeneratorFunction",Se(s,r,"GeneratorFunction"),Se(u),Se(u,r,"Generator"),Se(u,o,function(){return this}),Se(u,"toString",function(){return"[object Generator]"}),(Fe=function(){return{w:l,m}})()}function Se(e,t,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Se=function(e,t,n,o){function l(t,n){Se(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},Se(e,t,n,o)}function Me(e,t,n,o,r,l,a){try{var i=e[l](a),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(o,r)}function Be(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var l=e.apply(t,n);function a(e){Me(l,o,r,a,i,"next",e)}function i(e){Me(l,o,r,a,i,"throw",e)}a(void 0)})}}const Ie={props:{opcr_id:String,FFUNCCOD:String,mooe:String,ps:String,opcr_date:String,ave:String,total:String,dept_head:String,opcrs:Object,fileBaseUrl:String,rating_status:Number,disk:String,list:Object},data:function(){return{imageTypes:["jpg","jpeg","png","gif","bmp","webp"],total_ave:0,total_comp:0,displayModal:!1,displayModalMOV:!1,displaySideModal:!1,showImageModal:!1,opcr_rating_id:null,movs:[],search:"",form:(0,_e.mN)({opcrs:[]}),file:null,files:[],file_ids:[],current_filepath:null,allSelected:!1,rating_status_dt:null,show_warnings:!1}},computed:{},components:{Pagination:xe.A,Filtering:ke.A,Modal:Ae.A,ModalMOV:Ce.A,SideModal:Ae.A},mounted:function(){this.rating_status_dt=this.rating_status,this.form.opcrs=this.opcrs,localStorage.getItem("reloaded")?localStorage.removeItem("reloaded"):(localStorage.setItem("reloaded","1"),location.reload()),window.addEventListener("keydown",this.handleKeydown)},beforeUnmount:function(){window.removeEventListener("keydown",this.handleKeydown)},methods:{formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},isWithinCount:function(){return this.files.length+this.movs.length<=10},isWithinLimit:function(){var e=10485760,t=this.files.reduce(function(e,t){return parseFloat(e)+parseFloat(t.size)},0),n=this.movs.reduce(function(e,t){return parseFloat(e)+parseFloat(t.file_size)},0),o=parseFloat(t)+parseFloat(n);return console.log("newFilesSize: "+t),console.log("existingFilesSize: "+n),console.log("totalSize: "+o),console.log("maxSize: "+e),o<=e},computeAverage:function(e){var t=[e.rating_q,e.rating_e,e.rating_t].filter(function(e){return e>0});return 0===t.length?0:(t.reduce(function(e,t){return e+t},0)/t.length).toFixed(2)},halfSem:function(e){var t=parseFloat(e)/2;return this.format_number_conv(t,2,!0)},deleteEla:function(e){1==confirm("WARNING!\nAre you sure you want to delete the Executive Legislative Agenda?"+e)&&this.$inertia.delete("/ELA/"+e)},getRowspan:function(e,t){for(var n=1,o=parseFloat(t)+1;o<this.opcrs.length&&this.opcrs[o].mfo_desc===e;o++)n=parseFloat(n)+1;return n},getRowspan2:function(e,t){for(var n=1,o=parseFloat(t)+1;o<this.opcrs.length&&this.opcrs[o].office_accountable===e;o++)n=parseFloat(n)+1;return n},getRowspanIndicator:function(e,t){for(var n=1,o=parseFloat(t)+1;o<this.opcrs.length&&this.opcrs[o].success_indicator===e;o++)n=parseFloat(n)+1;return n},getTotalAverage:function(){for(var e=0,t=0;t<this.form.opcrs.length;t++){var n=this.form.opcrs[t].rating_e,o=this.form.opcrs[t].rating_q,r=this.form.opcrs[t].rating_t,l=parseFloat(n)+parseFloat(o)+parseFloat(r),a=0;parseFloat(n)>=1&&(a+=1),parseFloat(o)>=1&&(a+=1),parseFloat(r)>=1&&(a+=1),0==a&&(a=1),e+=l/a}return this.format_number_conv(e,2,!0)},computeRowAverage:function(e){var t=[e.rating_q,e.rating_e,e.rating_t].filter(function(e){return e>0});return 0===t.length?0:t.reduce(function(e,t){return e+t},0)/t.length},getAverageAll:function(){var e=this,t=this.form.opcrs.map(function(t){return e.computeRowAverage(t)}).filter(function(e){return e>0});return 0===t.length?0:(t.reduce(function(e,t){return e+t},0)/t.length).toFixed(2)},numberInput:function(e){e<0?this.numberInput=0:e>5&&(this.numberInput=5)},disableTyping:function(e){e.metaKey||e.ctrlKey||e.preventDefault()},getAverage:function(e){parseFloat(this.opcrs[e].rating_e)>5&&(this.opcrs[e].rating_e=5),""==this.opcrs[e].rating_e&&(this.opcrs[e].rating_e=0),""==this.opcrs[e].rating_q&&(this.opcrs[e].rating_q=0),""==this.opcrs[e].rating_t&&(this.opcrs[e].rating_t=0),parseFloat(this.opcrs[e].rating_e)<0&&(this.opcrs[e].rating_e=0),parseFloat(this.opcrs[e].rating_q)>5&&(this.opcrs[e].rating_q=5),parseFloat(this.opcrs[e].rating_q)<0&&(this.opcrs[e].rating_q=0),parseFloat(this.opcrs[e].rating_t)>5&&(this.opcrs[e].rating_t=5),parseFloat(this.opcrs[e].rating_t)<0&&(this.opcrs[e].rating_t=0);var t=0;parseFloat(this.opcrs[e].rating_e)>=1&&(t+=1),parseFloat(this.opcrs[e].rating_q)>=1&&(t+=1),parseFloat(this.opcrs[e].rating_t)>=1&&(t+=1),0==t&&(t=1);var n=parseFloat(this.opcrs[e].rating_e)+parseFloat(this.opcrs[e].rating_q)+parseFloat(this.opcrs[e].rating_t);return n=this.format_number_conv(n/t,2,!0)},submit:function(){if(isNaN(this.total_ave))alert("Some values are empty!");else{if(1==confirm("WARNING!\nAre you sure you want to save changes to this OPCR?")){var e=JSON.stringify(this.form.opcrs);this.$inertia.post("/opcr/form/store",{opcrs:e,FFUNCCOD:this.FFUNCCOD,opcr_id:this.opcr_id},{preserveScroll:!0,preserveState:!0,replace:!0})}}},handleKeydown:function(e){e.ctrlKey&&e.shiftKey&&"S"===e.key&&(e.preventDefault(),this.submit())},showModal:function(){this.viewlink(),this.displayModal=!0},showModalMOV:function(e){var t=this;return Be(Fe().m(function n(){var o;return Fe().w(function(n){for(;;)switch(n.n){case 0:return t.opcr_rating_id=e,o="/movs/get/mov/"+e,n.n=1,axios.get(o).then(function(e){t.movs=e.data}).finally(function(){t.isLoading=!1});case 1:t.displayModalMOV=!0;case 2:return n.a(2)}},n)}))()},uploadFiles:function(){var e=this;return Be(Fe().m(function t(){var n;return Fe().w(function(t){for(;;)switch(t.n){case 0:if(!(e.files&&e.files.length<1)){t.n=1;break}return alert("No file chosen."),t.a(2);case 1:if(confirm("Are you sure you want to upload selected files?")){t.n=2;break}return t.a(2);case 2:return e.show_warnings=!0,n=new FormData,e.file&&n.append("file",e.file),e.files&&e.files.length>0&&e.files.forEach(function(e){n.append("files[]",e)}),t.n=3,axios.post("/movs/save/".concat(e.opcr_rating_id,"/").concat(e.opcr_id),n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log("Upload success:",t.data),e.showModalMOV(e.opcr_rating_id),e.files=[]}).finally(function(t){e.cancelFiles()}).catch(function(e){var t;console.error("Upload error:",(null===(t=e.response)||void 0===t?void 0:t.data)||e)});case 3:return t.a(2)}},t)}))()},cancelFiles:function(){this.files=[],this.$refs.fileInput.value=null},handleFiles:function(e){var t=Array.from(e.target.files);console.log(t),this.files=Array.from(e.target.files),console.log(this.files)},viewlink:function(){var e=this.getTotalAverage(),t=this.getAverageAll(),n="https://"+this.jasper_ip+"jasperserver/flow.html?pp=u%3DJamshasadid%7Cr%3DManager%7Co%3DEMEA%2CSales%7Cpa1%3DSweden&_flowId=viewReportFlow&reportUnit=%2Freports%2Fplanning_system%2Fopcr_ratings_revised_july2025%2Fopcr_ratings_july2025&standAlone=true&ParentFolderUri=%2Freports%2Fplanning_system%2Fopcr_ratings_revised_july2025&standAlone=true&decorate=no&output=pdf"+("&opcr_id="+this.opcr_id+"&FFUNCCOD="+this.FFUNCCOD+"&total="+e+"&average="+t);return this.report_link=n,n},hideModal:function(){this.displayModal=!1},hideModalMOV:function(){this.displayModalMOV=!1,this.opcr_id=null},isPA:function(e,t){if(!e||!t)return!1;var n=parseInt(e.match(/\d{4}/)[0]),o=e.includes("JANUARY");return"PA 1"===t?n<2025||2025===n&&o:"PA 2"===t&&(n>2025||2025===n&&!o)},toggleFileSelection:function(e,t){t.target.checked?this.file_ids.includes(e)||this.file_ids.push(e):this.file_ids=this.file_ids.filter(function(t){return t!==e})},deleteFile:function(e){var t=this;return Be(Fe().m(function n(){var o;return Fe().w(function(n){for(;;)switch(n.n){case 0:if(o=[],!confirm("Are you sure you want to delete this file?")){n.n=1;break}return o.push(e),n.n=1,axios.delete("/movs/delete-multiple/many",{data:{file_ids:o}}).then(function(e){console.log("Files deleted successfully",e.data),t.showModalMOV(t.opcr_rating_id)}).catch(function(e){var t;console.error("Failed to delete files",(null===(t=e.response)||void 0===t?void 0:t.data)||e)});case 1:return n.a(2)}},n)}))()},deleteFiles:function(){var e=this;return Be(Fe().m(function t(){var n;return Fe().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e.file_ids.length){t.n=1;break}return alert("No files selected for deletion"),t.a(2);case 1:if(confirm("Are you sure you want to delete selected files?")){t.n=2;break}return t.a(2);case 2:return t.p=2,t.n=3,axios.delete("/movs/delete-multiple/many",{data:{file_ids:e.file_ids}}).then(function(t){console.log("Files deleted successfully",t.data),e.showModalMOV(e.opcr_rating_id)}).finally(function(t){e.file_ids=[],e.allSelected=!1}).catch(function(e){var t;console.error("Failed to delete files",(null===(t=e.response)||void 0===t?void 0:t.data)||e)});case 3:t.n=5;break;case 4:t.p=4,n=t.v,console.error(n),alert("Failed to delete files");case 5:return t.a(2)}},t,null,[[2,4]])}))()},previewFile:function(e){var t=["jpg","jpeg","png","gif","bmp","webp"],n=["mp4","avi","mov","mkv","flv","wmv","mp3"];if(this.current_filepath=e.filepath,"public"===this.disk){var o,r;if(this.view_link=window.location.origin+"/storage/"+e.filepath,t.includes(null===(o=e.file_type)||void 0===o?void 0:o.toLowerCase())||n.includes(null===(r=e.file_type)||void 0===r?void 0:r.toLowerCase()))return void window.open(this.view_link,"_blank");this.isPreviewable(e.file_type)?(this.displaySideModal=!0,this.file_extension=e.file_type):alert("This file type cannot be previewed.")}else{var l,a;if(t.includes(null===(l=e.file_type)||void 0===l?void 0:l.toLowerCase())||n.includes(null===(a=e.file_type)||void 0===a?void 0:a.toLowerCase()))return void window.open("http://122.53.120.18:8067/images/".concat(e.filepath),"_blank");this.isPreviewable(e.file_type)?(this.view_link="http://122.53.120.18:8067/images/"+e.filepath,window.open(this.view_link,"_blank"),this.file_extension=e.file_type):alert("This file type cannot be previewed.")}},toggleSelectAll:function(e){e.target.checked?this.file_ids=this.movs.map(function(e){return e.id}):this.file_ids=[]},getFileIcon:function(e){if(null==e||!e.file_type)return"/images/icons/file.png";var t=e.file_type.toLowerCase();return["xls","xlsx","xlsm","xlsb","xlt","xltx","xltm"].includes(t)?"/images/icons/excel.png":"pdf"===t?"/images/icons/pdf.png":["doc","docx","dot","dotx","dotm"].includes(t)?"/images/icons/word.png":["ppt","pptx","pptm","pot","potx","potm"].includes(t)?"/images/icons/ppt.png":["mp4","avi","mov","mkv","flv","wmv","mp3"].includes(t)?"/images/icons/video.png":["jpg","jpeg","png","gif","bmp","webp"].includes(t)?"public"===this.disk?window.location.origin+"/storage/"+e.filepath:"/images/icons/images.png":"/images/icons/file.png"},openImageModal:function(){alert("open image modal"),this.showImageModal=!0},closeImageModal:function(){this.showImageModal=!1},submitRecallRating:function(e,t,n,o){var r=this;return Be(Fe().m(function l(){return Fe().w(function(l){for(;;)switch(l.n){case 0:if(confirm(o)){l.n=1;break}return l.a(2);case 1:return l.n=2,axios.post("/opcr/form/"+r.opcr_id+"/submit",{data:{curr_stat:e,staged_for:t}}).then(function(e){}).finally(function(e){r.rating_status_dt=t,alert(n)}).catch(function(e){console.error("Failed to submit OPCR Rating Form",e)});case 2:return l.a(2)}},l)}))()}}};var Te=n(5072),Oe=n.n(Te),Re=n(7191),De={insert:"head",singleton:!1};Oe()(Re.A,De);Re.A.locals;const Pe=(0,n(6262).A)(Ie,[["render",function(e,t,n,l,_e,ke){var xe=(0,o.resolveComponent)("Head"),Ae=(0,o.resolveComponent)("Link"),Ce=(0,o.resolveComponent)("Modal"),Fe=(0,o.resolveComponent)("ModalMOV"),Se=(0,o.resolveComponent)("SideModal");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(xe,null,{default:(0,o.withCtx)(function(){return r(t[17]||(t[17]=[(0,o.createElementVNode)("title",null,"OPCR",-1)]))}),_:1}),(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[t[19]||(t[19]=(0,o.createElementVNode)("h3",null,"OFFICE PERFORMANCE COMMITMENT AND RATING FORM ",-1)),(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",s,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return _e.search=e}),type:"text",class:"form-control form-control-sm",placeholder:"Search..."},null,512),[[o.vModelText,_e.search]])]),(0,o.createVNode)(Ae,{href:"/opcrlist/".concat(n.FFUNCCOD)},{default:(0,o.withCtx)(function(){return r(t[18]||(t[18]=[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1)]))}),_:1},8,["href"])])]),(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("h5",null,[t[20]||(t[20]=(0,o.createTextVNode)("PERIOD: ",-1)),(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(n.opcr_date),1)]),(0,o.createElementVNode)("h5",null,[t[21]||(t[21]=(0,o.createTextVNode)("STATUS: ",-1)),(0,o.createElementVNode)("u",null,(0,o.toDisplayString)(e.getStatus(String(n.list.rating_status))),1)])]),(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("form",{onSubmit:t[1]||(t[1]=(0,o.withModifiers)(function(e){return ke.submit()},["prevent"]))},[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("table",f,[t[29]||(t[29]=(0,o.createElementVNode)("thead",{class:"text-center"},[(0,o.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,o.createElementVNode)("th",{rowspan:"2"},"Major Final Output"),(0,o.createElementVNode)("th",{rowspan:"2"},"Success Indicators (Targets + Measures)"),(0,o.createElementVNode)("th",{rowspan:"2"},"Alloted Budget"),(0,o.createElementVNode)("th",{rowspan:"2"},"Accountable Division"),(0,o.createElementVNode)("th",{rowspan:"2"},"Actual Accomplishments"),(0,o.createElementVNode)("th",{colspan:"4"},"Rating"),(0,o.createElementVNode)("th",{rowspan:"2"},"Remarks"),(0,o.createElementVNode)("th",{rowspan:"2"},"MOV")]),(0,o.createElementVNode)("tr",{class:"bg-secondary text-white"},[(0,o.createElementVNode)("th",null,"Quality"),(0,o.createElementVNode)("th",null,"Efficiency"),(0,o.createElementVNode)("th",null,"Timeliness"),(0,o.createElementVNode)("th",null,"Average")])],-1)),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(_e.form.opcrs,function(e,r){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:r},[0===r||e.mfo_desc!==n.opcrs[r-1].mfo_desc?((0,o.openBlock)(),(0,o.createElementBlock)("td",{key:0,rowspan:ke.getRowspan(e.mfo_desc,r),style:{"vertical-align":"middle"}},(0,o.toDisplayString)(e.mfo_desc),9,h)):(0,o.createCommentVNode)("",!0),0===r||e.success_indicator!==n.opcrs[r-1].success_indicator?((0,o.openBlock)(),(0,o.createElementBlock)("td",{key:1,rowspan:ke.getRowspanIndicator(e.success_indicator,r),style:{"vertical-align":"middle"}},(0,o.toDisplayString)(e.target_success_indicator),9,g)):(0,o.createCommentVNode)("",!0),t[22]||(t[22]=(0,o.createElementVNode)("td",null,null,-1)),0===r||e.office_accountable!==n.opcrs[r-1].office_accountable?((0,o.openBlock)(),(0,o.createElementBlock)("td",{key:2,rowspan:ke.getRowspan2(e.office_accountable,r),style:{"vertical-align":"middle"}},(0,o.toDisplayString)(e.office_accountable),9,v)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("td",null,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{"onUpdate:modelValue":function(e){return _e.form.opcrs[r].accomplishments=e},style:{height:"inherit"}},null,8,y),[[o.vModelText,_e.form.opcrs[r].accomplishments]])]),(0,o.createElementVNode)("td",null,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":function(e){return _e.form.opcrs[r].rating_q=e},class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,b),[[o.vModelText,_e.form.opcrs[r].rating_q]])]),(0,o.createElementVNode)("td",null,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":function(e){return _e.form.opcrs[r].rating_e=e},class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,E),[[o.vModelText,_e.form.opcrs[r].rating_e]])]),(0,o.createElementVNode)("td",null,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":function(e){return _e.form.opcrs[r].rating_t=e},class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,N),[[o.vModelText,_e.form.opcrs[r].rating_t]])]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("input",{value:ke.computeAverage(_e.form.opcrs[r]),class:"centered-input",type:"number",min:"0",max:"5",step:"1",disabled:""},null,8,V)]),(0,o.createElementVNode)("td",null,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{"onUpdate:modelValue":function(e){return _e.form.opcrs[r].remarks=e},style:{height:"inherit"}},null,8,w),[[o.vModelText,_e.form.opcrs[r].remarks]])]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary text-white",onClick:function(e){return ke.showModalMOV(_e.form.opcrs[r].id)}},"Upload MOVs",8,_)])])}),128)),(0,o.createElementVNode)("tr",null,[t[23]||(t[23]=(0,o.createElementVNode)("td",{colspan:"6"},null,-1)),t[24]||(t[24]=(0,o.createElementVNode)("td",{colspan:"3"},"TOTAL RATING",-1)),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(ke.getTotalAverage()),1),t[25]||(t[25]=(0,o.createElementVNode)("td",null,null,-1))]),(0,o.createElementVNode)("tr",null,[t[26]||(t[26]=(0,o.createElementVNode)("td",{colspan:"6"},null,-1)),t[27]||(t[27]=(0,o.createElementVNode)("td",{colspan:"3"},"FINAL AVERAGE RATING",-1)),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(ke.getAverageAll()),1),t[28]||(t[28]=(0,o.createElementVNode)("td",null,null,-1))])])])])],32),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("table",x,[(0,o.createElementVNode)("tbody",null,[t[35]||(t[35]=(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",null,"Assessed by PMT Secretariat:"),(0,o.createElementVNode)("td",null,"Reviewed by:")],-1)),(0,o.createElementVNode)("tr",null,[t[34]||(t[34]=(0,o.createElementVNode)("td",{class:"text-center"},[(0,o.createElementVNode)("br"),(0,o.createElementVNode)("br"),(0,o.createElementVNode)("strong",null,"ALICIA M. GRACIADAS")],-1)),(0,o.createElementVNode)("td",A,[t[32]||(t[32]=(0,o.createElementVNode)("br",null,null,-1)),t[33]||(t[33]=(0,o.createElementVNode)("br",null,null,-1)),ke.isPA(n.opcr_date,"PA 1")?((0,o.openBlock)(),(0,o.createElementBlock)("span",C,r(t[30]||(t[30]=[(0,o.createElementVNode)("strong",null,"LEWIS JAKE G. CAIMAN",-1)])))):ke.isPA(n.opcr_date,"PA 2")?((0,o.openBlock)(),(0,o.createElementBlock)("span",F,r(t[31]||(t[31]=[(0,o.createElementVNode)("strong",null,"IVAN KLEB N. ULGASAN",-1)])))):(0,o.createCommentVNode)("",!0)])]),t[36]||(t[36]=(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",{class:"text-center",style:{"font-size":"12px"}},"PMT Head Secretariat"),(0,o.createElementVNode)("td",{class:"text-center",style:{"font-size":"12px"}},"PMT Chairperson")],-1)),t[37]||(t[37]=(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("td",{style:{"font-size":"12px"}},"Date:"),(0,o.createElementVNode)("td",{style:{"font-size":"12px"}},"Date:")],-1))])])]),t[43]||(t[43]=(0,o.createElementVNode)("span",{class:"text-danger font-weight-bold"},[(0,o.createElementVNode)("b",null,"SAVE CHANGES THEN PRINT")],-1)),(0,o.createElementVNode)("div",S,[(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[2]||(t[2]=function(e){return ke.submit()}),disabled:_e.form.processing}," Save changes ",8,B),t[41]||(t[41]=(0,o.createTextVNode)("  ",-1)),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-success mt-3 text-white",onClick:t[3]||(t[3]=function(e){return ke.showModal()}),disabled:_e.form.processing}," Print ",8,I),t[42]||(t[42]=(0,o.createTextVNode)("  ",-1)),-2==_e.rating_status_dt?((0,o.openBlock)(),(0,o.createElementBlock)("span",T,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[4]||(t[4]=function(e){return ke.submitRecallRating(-1,0,"Successfully submitted OPCR","Are you sure you want to submit this OPCR")}),disabled:_e.form.processing}," Submit ",8,O),t[38]||(t[38]=(0,o.createTextVNode)("  ",-1))])):(0,o.createCommentVNode)("",!0),-1==_e.rating_status_dt||-2==_e.rating_status_dt?((0,o.openBlock)(),(0,o.createElementBlock)("span",R,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary mt-3 text-white",onClick:t[5]||(t[5]=function(e){return ke.submitRecallRating(-1,0,"Successfully submitted OPCR","Are you sure you want to submit this OPCR")}),disabled:_e.form.processing}," Submit ",8,D),t[39]||(t[39]=(0,o.createTextVNode)("  ",-1))])):(0,o.createCommentVNode)("",!0),0==_e.rating_status_dt?((0,o.openBlock)(),(0,o.createElementBlock)("span",P,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-secondary mt-3 text-white",onClick:t[6]||(t[6]=function(e){return ke.submitRecallRating(0,-1,"Successfully recalled OPCR submission","Are you sure you want to recall the submission of this OPCR")}),disabled:_e.form.processing}," Recall ",8,U),t[40]||(t[40]=(0,o.createTextVNode)("  ",-1))])):(0,o.createCommentVNode)("",!0)])]),t[44]||(t[44]=(0,o.createElementVNode)("div",{class:"row justify-content-center"},[(0,o.createElementVNode)("div",{class:"col-md-12"},[(0,o.createElementVNode)("p")])],-1))])]),_e.displayModal?((0,o.openBlock)(),(0,o.createBlock)(Ce,{key:0,onCloseModalEvent:ke.hideModal},{default:(0,o.withCtx)(function(){return[(0,o.createElementVNode)("div",j,[t[45]||(t[45]=(0,o.createElementVNode)("div",{style:{"text-align":"center"}},[(0,o.createElementVNode)("h4",null,"OFFICE PERFORMANCE COMMITMENT AND RATING FORM")],-1)),(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("div",z,[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("iframe",{src:e.report_link,style:{width:"100%",height:"450px"}},null,8,q)])])]),t[46]||(t[46]=(0,o.createElementVNode)("div",{style:{align:"center"}},null,-1))])]}),_:1},8,["onCloseModalEvent"])):(0,o.createCommentVNode)("",!0),_e.displayModalMOV?((0,o.openBlock)(),(0,o.createBlock)(Fe,{key:1,onCloseModalEvent:ke.hideModalMOV,title:"Means of Verification"},{default:(0,o.withCtx)(function(){return[(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",W,[_e.show_warnings?((0,o.openBlock)(),(0,o.createElementBlock)("div",K,[ke.isWithinLimit()?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",H," ❌ Total file size must not exceed 10 MB. ")),ke.isWithinCount()?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",J," ❌ You can only upload a maximum of 2 files. "))])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("input",{type:"file",multiple:"",onChange:t[7]||(t[7]=function(){return ke.handleFiles&&ke.handleFiles.apply(ke,arguments)}),ref:"fileInput",disabled:!(ke.isWithinLimit()&&ke.isWithinCount())},null,40,Y),(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("button",{type:"button",onClick:t[8]||(t[8]=function(){return ke.uploadFiles&&ke.uploadFiles.apply(ke,arguments)}),class:"btn btn-primary text-white",disabled:!(ke.isWithinLimit()&&ke.isWithinCount())},"Upload",8,Z),(0,o.createElementVNode)("button",{type:"button",onClick:t[9]||(t[9]=function(){return ke.cancelFiles&&ke.cancelFiles.apply(ke,arguments)}),class:"btn btn-danger text-white"},"Cancel ")]),(0,o.createElementVNode)("p",null,[_e.files.length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",Q,[t[48]||(t[48]=(0,o.createElementVNode)("h3",null,"Selected Files (Pending Upload)",-1)),(0,o.createElementVNode)("table",null,[t[47]||(t[47]=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("th"),(0,o.createElementVNode)("th",null,"File Name"),(0,o.createElementVNode)("th",null,"File Type"),(0,o.createElementVNode)("th",null,"File Size")],-1)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(_e.files,function(t,n){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:n},[(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:e.getPreUploadFileIcon(t.name.split(".").pop()),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,X)]),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(t.name)+" ",1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(t.name.split(".").pop())+" ",1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(ke.formatFileSize(t.size))+" ",1)])}),128))])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("div",te,[t[49]||(t[49]=(0,o.createElementVNode)("h5",null,"Files Uploaded",-1)),t[50]||(t[50]=(0,o.createTextVNode)("  ",-1)),(0,o.createElementVNode)("button",{onClick:t[10]||(t[10]=function(){return ke.deleteFiles&&ke.deleteFiles.apply(ke,arguments)}),class:"btn btn-danger btn-sm mL-2 text-white",disabled:!_e.file_ids.length}," Delete Selected ",8,ne)]),(0,o.createElementVNode)("table",oe,[(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",null,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"checkbox",checked:_e.allSelected,"onUpdate:modelValue":t[11]||(t[11]=function(e){return _e.allSelected=e}),onChange:t[12]||(t[12]=function(e){return ke.toggleSelectAll(e)})},null,40,re),[[o.vModelCheckbox,_e.allSelected]])]),t[51]||(t[51]=(0,o.createElementVNode)("th",null,null,-1)),t[52]||(t[52]=(0,o.createElementVNode)("th",null,"File Name",-1)),t[53]||(t[53]=(0,o.createElementVNode)("th",null,"File Size",-1)),t[54]||(t[54]=(0,o.createElementVNode)("th",null,"Actions",-1))])]),(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(_e.movs,function(n){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:n.id},[(0,o.createElementVNode)("td",null,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"checkbox",value:n.id,onChange:function(e){return ke.toggleFileSelection(n.id,e)},"onUpdate:modelValue":t[13]||(t[13]=function(e){return _e.file_ids=e})},null,40,le),[[o.vModelCheckbox,_e.file_ids]])]),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("img",{src:ke.getFileIcon(n),alt:"file preview",style:{width:"30px",height:"30px","object-fit":"cover"}},null,8,ae)]),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(n.filename),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.format_number(n.file_size/1024,2,!0))+" KB ",1),(0,o.createElementVNode)("td",null,[(0,o.createElementVNode)("button",{onClick:function(e){return ke.previewFile(n)},class:"p-1 rounded bg-transparent hover:bg-blue-100 border-0",title:"Preview"},r(t[55]||(t[55]=[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"blue",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"}),(0,o.createElementVNode)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"})],-1)])),8,ie),t[58]||(t[58]=(0,o.createTextVNode)("  ",-1)),(0,o.createElementVNode)("a",{href:"/movs/download/".concat(n.id),class:"inline-flex items-center",title:"Download",target:"_blank"},r(t[56]||(t[56]=[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"green",class:"bi bi-cloud-arrow-down-fill",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2m2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708"})],-1)])),8,ce),t[59]||(t[59]=(0,o.createTextVNode)("  ",-1)),(0,o.createElementVNode)("button",{onClick:function(e){return ke.deleteFile(n.id)},class:"p-1 rounded-full bg-transparent hover:bg-red-100 border-0","data-toggle":"tooltip",title:"Delete"},r(t[57]||(t[57]=[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"red",class:"bi bi-trash-fill",viewBox:"0 0 16 16"},[(0,o.createElementVNode)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"})],-1)])),8,se)])])}),128))])])])])]}),_:1},8,["onCloseModalEvent"])):(0,o.createCommentVNode)("",!0),_e.displaySideModal?((0,o.openBlock)(),(0,o.createBlock)(Se,{key:2,onCloseModalEvent:t[16]||(t[16]=function(e){return _e.displaySideModal=!1}),style:{"z-index":"9999"}},{default:(0,o.withCtx)(function(){return[t[62]||(t[62]=(0,o.createElementVNode)("h2",{class:"text-lg font-semibold"},"Preview SideModal",-1)),"public"===n.disk?((0,o.openBlock)(),(0,o.createElementBlock)("div",de,["pdf"===e.file_extension?((0,o.openBlock)(),(0,o.createElementBlock)("div",ue,[(0,o.createElementVNode)("iframe",{src:e.view_link,width:"100%",height:"500px"},null,8,me)])):_e.imageTypes.includes(e.file_extension)?((0,o.openBlock)(),(0,o.createElementBlock)("div",pe,[t[60]||(t[60]=(0,o.createTextVNode)(" Image siya ",-1)),(0,o.createElementVNode)("img",{src:e.view_link,alt:"preview",class:"max-w-full max-h-[500px] cursor-pointer",onClick:t[14]||(t[14]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},null,8,fe)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",he,[(0,o.createElementVNode)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(e.view_link),"&embedded=true"),width:"100%",height:"600"},null,8,ge)]))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",ve,["pdf"===e.file_extension?((0,o.openBlock)(),(0,o.createElementBlock)("div",ye,[(0,o.createElementVNode)("iframe",{src:e.view_link,width:"100%",height:"500px"},null,8,be)])):_e.imageTypes.includes(e.file_extension.toLowerCase())?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ee,[t[61]||(t[61]=(0,o.createTextVNode)(" Image siya ",-1)),(0,o.createElementVNode)("img",{src:e.view_link,alt:"preview",class:"max-w-full max-h-[500px] cursor-pointer",onClick:t[15]||(t[15]=function(){return e.openModal&&e.openModal.apply(e,arguments)})},null,8,Ne)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Ve,[(0,o.createElementVNode)("iframe",{src:"https://docs.google.com/gview?url=".concat(encodeURIComponent(e.view_link),"&embedded=true"),width:"100%",height:"600"},null,8,we)]))]))]}),_:1})):(0,o.createCommentVNode)("",!0)])],64)}]]),Ue=Pe},7694(e,t,n){n.d(t,{A:()=>f});var o=n(9726),r={id:"sidebar-wrapper",class:"sidebar-nav nav navbar-inverse"},l={class:"row",style:{width:"380px"}},a={class:"bgc-white"},i={class:"modal-header"},c={class:"modal-body"};const s={props:{title:String}};var d=n(5072),u=n.n(d),m=n(648),p={insert:"head",singleton:!1};u()(m.A,p);m.A.locals;const f=(0,n(6262).A)(s,[["render",function(e,t,n,s,d,u){return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[t[1]||(t[1]=(0,o.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Filtering",-1)),(0,o.createElementVNode)("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(t){return e.$emit("closeFilter")})})]),(0,o.createElementVNode)("div",c,[(0,o.renderSlot)(e.$slots,"default")])])])])}]])}}]);