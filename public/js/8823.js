"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8823],{8823:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var r=o(821),a={class:"relative row gap-20 masonry pos-r"},n={class:"peers fxw-nw jc-sb ai-c"},i=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),(0,r.createElementVNode)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),s={class:"col-md-8"},l=(0,r.createElementVNode)("input",{type:"hidden",required:""},null,-1),c=(0,r.createElementVNode)("label",null,"YEAR",-1),d={key:0,class:"fs-6 c-red-500"},m=(0,r.createElementVNode)("label",null,"PROGRAM",-1),p=(0,r.createElementVNode)("br",null,null,-1),u={key:1,class:"fs-6 c-red-500"},f=(0,r.createElementVNode)("label",null,"OFFICE",-1),h=(0,r.createElementVNode)("option",null,null,-1),_=["value"],v={key:2,class:"fs-6 c-red-500"},N=(0,r.createElementVNode)("label",null,"RAAO TYPE",-1),g=[(0,r.createStaticVNode)('<option></option><option value="1">Personnel Services</option><option value="2">Maintenance, Operating, and Other Expenses</option><option value="3">Capital Outlay</option><option value="4">Programs</option><option value="5">Projects</option>',6)],E={key:3,class:"fs-6 c-red-500"},V=(0,r.createElementVNode)("label",null,"RAAO Description",-1),y={key:4,class:"fs-6 c-red-500"},D=(0,r.createElementVNode)("label",null,"Sector",-1),C=[(0,r.createElementVNode)("option",{value:"1000"},"General Public Services Sector",-1),(0,r.createElementVNode)("option",{value:"3000"},"Social Services Sector",-1),(0,r.createElementVNode)("option",{value:"8000"},"Economic Services Sector",-1)],O={key:5,class:"fs-6 c-red-500"},b=(0,r.createElementVNode)("label",null,"AIP Code",-1),F={key:6,class:"fs-6 c-red-500"},S=(0,r.createElementVNode)("label",null,"Source",-1),k=[(0,r.createElementVNode)("option",null,"AIP",-1),(0,r.createElementVNode)("option",null,"SIP#1",-1),(0,r.createElementVNode)("option",null,"SIP#2",-1),(0,r.createElementVNode)("option",null,"SIP#3",-1),(0,r.createElementVNode)("option",null,"SIP#4",-1)],w={key:7,class:"fs-6 c-red-500"},B=["disabled"];var x=o(7757),T=o.n(x),U=o(9038),P=o(126),A=o(4971),I=o(5905);function M(e,t,o,r,a,n,i){try{var s=e[n](i),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(r,a)}const R={props:{editData:Object,sectors:Object,accounts:Object,codes:Object,functions:Object,programs:Object,ooes:Object},components:{Select2:o.n(I)(),ModelSelect:A.q2,Places:function(){return new Promise((function(e){setTimeout((function(){e(P.Z)}),2e3)}))}},data:function(){return{submitted:!1,chart_selected:"",pap_selected:"",prog_selected:"",total:0,idprogram_selected:"0",program_typed:"",form:(0,U.cI)({year:"",FFUNCCOD:"",FFUNCTION:"",raao_type:"",program_id:"",aip_code:"",source:"",planned_ps:"",planned_mooe:"",planned_fe:"",planned_co:"",planned_total:"",approved_ps:"",approved_mooe:"",approved_fe:"",approved_co:"",approved_total:"",raao_desc:"",id:null}),sector_code:"",pageTitle:"",data_programs:[],dt_prog:[],data_ooes:[],dt_ooes:[],dt_ooes_length:[],planned_total:0,aip_initial_value:""}},computed:{formattedPrograms:function(){var e=this,t=this.programs;return this.form.FFUNCCOD&&(t=t.filter((function(t){return t.FFUNCCOD===e.form.FFUNCCOD}))),t.map((function(e){return{value:e.recid,label:e.FPROGRAM,raaotype:e.ftype,FRAODESC:e.FRAODESC,FFUNCCOD:e.FFUNCCOD,raohsid:e.raohsid}}))},getTotal12:function(){var e=parseFloat(this.form.first_sem)+parseFloat(this.form.second_sem);return this.format_number_conv(e,2,!0)},computed_pastyear:function(){return this.format_number_conv(this.form.past_year,2,!0)},computed_sem1:function(){return this.format_number_conv(this.form.first_sem,2,!0)},computed_sem2:function(){return this.format_number_conv(this.form.second_sem,2,!0)}},mounted:function(){this.dt_prog=this.programs,this.data_programs=this.programs.map((function(e){return e.FPROGRAM})),this.dt_ooes=[],this.dt_ooes=this.ooes,void 0!==this.editData?(this.bari&&(this.bar=this.bari),this.pageTitle="Edit",this.form.year=this.editData.year,this.form.FFUNCCOD=this.editData.FFUNCCOD,this.form.raao_type=this.editData.raao_type,this.sector_code=this.getFirstFourChars(this.editData.aip_code),this.form.program_id=this.editData.program_id,this.form.source=this.editData.source,this.form.raao_desc=this.editData.raao_desc,this.form.planned_ps=this.editData.planned_ps,this.form.planned_mooe=this.editData.planned_mooe,this.form.planned_fe=this.editData.planned_fe,this.form.planned_co=this.editData.planned_co,this.form.planned_total=this.editData.planned_total,this.form.approved_ps=this.editData.approved_ps,this.form.approved_mooe=this.editData.approved_mooe,this.form.approved_fe=this.editData.approved_fe,this.form.approved_co=this.editData.approved_co,this.form.approved_total=this.editData.approved_total,this.form.final_tag=this.editData.final_tag,this.form.aip_code=this.editData.aip_code,this.form.id=this.editData.id):(this.pageTitle="Create ",this.form.planned_ps=0,this.form.planned_mooe=0,this.form.planned_fe=0,this.form.planned_co=0,this.setCurrentYear())},methods:{submit:function(){this.sector_code?void 0!==this.editData?this.form.patch("/annual-investment-plans/"+this.editData.id,this.form):this.form.post("/annual-investment-plans/",this.form):alert("Select a sector first!!!")},getOOEOTotal:function(){return(e=T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(r,a){var n=e.apply(t,o);function i(e){M(n,r,a,i,s,"next",e)}function s(e){M(n,r,a,i,s,"throw",e)}i(void 0)}))})();var e},setCode:function(){var e=this.accounts.indexOf(this.chart_selected);this.form.account_code=this.codes[e],this.form.object_of_expenditure=this.chart_selected},searchByAccountCode:function(){var e=this.codes.indexOf(this.form.account_code.toString());this.chart_selected=this.accounts[parseInt(e)],this.form.object_of_expenditure=this.chart_selected},setRaaoDesc:function(){var e=this;if(this.form.program_id){var t=this.formattedPrograms.find((function(t){return t.value===e.form.program_id}));""===this.form.raao_type&&(this.formattedPrograms.find((function(t){return t.value===e.form.program_id&&t.raaotype===e.form.raao_type})),function(e){throw new TypeError('"'+e+'" is read-only')}("selectedProgram")),this.form.raao_desc=t?t.FRAODESC:null}else this.form.raao_desc=null},searchByAccountCodeForEditMounted:function(){var e=this.codes.indexOf(this.form.account_code.toString());this.chart_selected=this.accounts[parseInt(e)]},setCurrentYear:function(){var e=(new Date).getFullYear();this.form.year=parseFloat(e)+1},filterProgram:function(){var e=this.$refs.raaoSelect;this.form.category=e.options[e.selectedIndex].text},setAIPInitialValue:function(){this.sector_code&&(this.form.aip_code=this.sector_code+"-"),this.form.FFUNCCOD&&(this.sector_code?this.form.aip_code=this.sector_code+"-"+this.office_aip[this.form.FFUNCCOD]+"-":this.form.aip_code=this.office_aip[this.form.FFUNCCOD]+"-")},setOOEValue:function(){var e=this,t=this.dt_ooes.filter((function(t){return t.recid===e.form.idooe}));this.form.account_code=t[0].FACTCODE,this.searchByAccountCode(),this.form.object_of_expenditure=t[0].FOOEDESC,this.form.first_sem=this.format_number_conv(t[0].sem1,2,!1),this.form.second_sem=this.format_number_conv(t[0].sem2,2,!1),this.form.past_year=this.format_number_conv(t[0].past_year,2,!1)}}};const j=(0,o(3744).Z)(R,[["render",function(e,t,o,x,T,U){var P=(0,r.resolveComponent)("Link"),A=(0,r.resolveComponent)("multiselect");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("h3",null,(0,r.toDisplayString)(T.pageTitle)+" Annual Investment Plan",1),(0,r.createVNode)(P,{href:"/annual-investment-plans"},{default:(0,r.withCtx)((function(){return[i]})),_:1})]),(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("form",{onSubmit:t[15]||(t[15]=(0,r.withModifiers)((function(e){return U.submit()}),["prevent"]))},[l,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=function(e){return T.form.idpaps=e}),class:"form-control",autocomplete:"positionchrome-off"},null,512),[[r.vModelText,T.form.idpaps]]),c,(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return T.form.year=e}),onChange:t[2]||(t[2]=function(){return U.getOOEOTotal&&U.getOOEOTotal.apply(U,arguments)})},null,544),[[r.vModelText,T.form.year]]),T.form.errors.year?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,(0,r.toDisplayString)(T.form.errors.year),1)):(0,r.createCommentVNode)("",!0),m,(0,r.createTextVNode)("  "),p,(0,r.createTextVNode)("idprogram "+(0,r.toDisplayString)(T.form.program_id)+" ",1),(0,r.createElementVNode)("div",null,[(0,r.createVNode)(A,{options:U.formattedPrograms,searchable:!0,modelValue:T.form.program_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return T.form.program_id=e}),label:"label","track-by":"label",onChange:U.getOOEOTotal,disabled:void 0!==o.editData},null,8,["options","modelValue","onChange","disabled"])]),T.form.errors.program_id?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,(0,r.toDisplayString)(T.form.errors.program_id),1)):(0,r.createCommentVNode)("",!0),f,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(T.form.FFUNCCOD)+" office AIP: "+(0,r.toDisplayString)(e.office_aip[T.form.FFUNCCOD])+" ",1),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return T.form.FFUNCCOD=e}),onChange:t[5]||(t[5]=function(){return U.getOOEOTotal&&U.getOOEOTotal.apply(U,arguments)})},[h,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.functions,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{value:e.FFUNCCOD},(0,r.toDisplayString)(e.FFUNCTION),9,_)})),256))],544),[[r.vModelSelect,T.form.FFUNCCOD]]),T.form.errors.FFUNCCOD?((0,r.openBlock)(),(0,r.createElementBlock)("div",v,(0,r.toDisplayString)(T.form.errors.FFUNCCOD),1)):(0,r.createCommentVNode)("",!0),N,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(T.form.raao_type)+" ",1),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return T.form.raao_type=e}),ref:"raaoSelect",onChange:t[7]||(t[7]=function(){return U.getOOEOTotal&&U.getOOEOTotal.apply(U,arguments)})},g,544),[[r.vModelSelect,T.form.raao_type]]),T.form.errors.raao_type?((0,r.openBlock)(),(0,r.createElementBlock)("div",E,(0,r.toDisplayString)(T.form.errors.raao_type),1)):(0,r.createCommentVNode)("",!0),V,(0,r.createTextVNode)("  "),(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(e){return T.form.raao_desc=e}),type:"text"},null,512),[[r.vModelText,T.form.raao_desc]]),T.form.errors.raao_desc?((0,r.openBlock)(),(0,r.createElementBlock)("div",y,(0,r.toDisplayString)(T.form.errors.raao_desc),1)):(0,r.createCommentVNode)("",!0),D,(0,r.createTextVNode)("  "),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=function(e){return T.sector_code=e}),ref:"raaoSelect",onChange:t[10]||(t[10]=function(){return U.setAIPInitialValue&&U.setAIPInitialValue.apply(U,arguments)})},C,544),[[r.vModelSelect,T.sector_code]]),T.form.errors.aip_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",O,(0,r.toDisplayString)(T.form.errors.aip_code),1)):(0,r.createCommentVNode)("",!0),b,(0,r.createTextVNode)("  "),(0,r.withDirectives)((0,r.createElementVNode)("input",{class:"form-control","onUpdate:modelValue":t[11]||(t[11]=function(e){return T.form.aip_code=e}),type:"text"},null,512),[[r.vModelText,T.form.aip_code]]),T.form.errors.aip_code?((0,r.openBlock)(),(0,r.createElementBlock)("div",F,(0,r.toDisplayString)(T.form.errors.aip_code),1)):(0,r.createCommentVNode)("",!0),S,(0,r.createTextVNode)("  "),(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=function(e){return T.form.source=e})},k,512),[[r.vModelSelect,T.form.source]]),T.form.errors.source?((0,r.openBlock)(),(0,r.createElementBlock)("div",w,(0,r.toDisplayString)(T.form.errors.source),1)):(0,r.createCommentVNode)("",!0),(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"hidden","onUpdate:modelValue":t[13]||(t[13]=function(e){return T.form.id=e}),class:"form-control",autocomplete:"chrome-off"},null,512),[[r.vModelText,T.form.id]]),(0,r.createElementVNode)("button",{type:"button",class:"btn text-white btn-primary mt-3 text-white",onClick:t[14]||(t[14]=function(e){return U.submit()}),disabled:T.form.processing}," Save changes ",8,B),(0,r.createTextVNode)((0,r.toDisplayString)(o.programs[0]),1)],32)])])}]])},126:(e,t,o)=>{o.d(t,{Z:()=>V});var r=o(821),a={class:"masonry-item w-100"},n={class:"row gap-20"},i={class:"col-md-3 col-6"},s={class:"layers bd bgc-white p-20"},l={class:"layer w-100 mB-10"},c={class:"lh-1"},d={class:"layer w-100"},m={class:"peers ai-sb fxw-nw"},p=(0,r.createElementVNode)("div",{class:"peer peer-greed"},[(0,r.createElementVNode)("span",{id:"sparklinedash"})],-1),u={class:"layers bd bgc-white p-20"},f=(0,r.createElementVNode)("div",{class:"layer w-100 mB-10"},[(0,r.createElementVNode)("h6",{class:"lh-1"},"Barangay")],-1),h={class:"layer w-100"},_={class:"peers ai-sb fxw-nw"},v=(0,r.createElementVNode)("div",{class:"peer peer-greed"},[(0,r.createElementVNode)("span",{id:"sparklinedash"})],-1),N={class:"form-control"},g=(0,r.createElementVNode)("option",null,null,-1);const E={props:{mun:Array},data:function(){return{mun_code:"",barsel:"",munsel:"",bar:[]}},computed:{my_mun:function(){return this.mun_code},my_bar:function(){return this.bar}},mounted:function(){},watch:{},methods:{loadBar:function(){var e=this;alert(this.munsel),""===this.munsel||axios.post("/places/bar",{mun:this.munsel}).then((function(t){e.bar=t.data.data}))},showMun:function(){alert(this.mun_code)}}};const V=(0,o(3744).Z)(E,[["render",function(e,t,o,E,V,y){return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("h6",c,"Municipalities "+(0,r.toDisplayString)(y.my_mun),1)]),(0,r.createElementVNode)("div",d,[(0,r.createElementVNode)("div",m,[p,(0,r.withDirectives)((0,r.createElementVNode)("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return V.munsel=e}),onChange:t[1]||(t[1]=function(){return y.loadBar&&y.loadBar.apply(y,arguments)})},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(o.mun,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",null,(0,r.toDisplayString)(e.citymunDesc),1)})),256))],544),[[r.vModelSelect,V.munsel]])])])]),(0,r.createElementVNode)("div",u,[f,(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",_,[v,(0,r.createElementVNode)("select",N,[g,((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(V.bar,(function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",null,(0,r.toDisplayString)(e.brgyDesc),1)})),256))])])])])])])])}]])}}]);